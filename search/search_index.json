{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Documentaci\u00f3n del Proyecto","text":"<p>Bienvenido \ud83d\udc4b Esta es una plantilla basada en MkDocs + Material for MkDocs para cursos y proyectos.</p>"},{"location":"#empezar-rapido-3-pasos","title":"Empezar r\u00e1pido (3 pasos)","text":"<ol> <li>Edita el nombre del sitio en <code>mkdocs.yml</code>:    ```yaml    site_name: Documentaci\u00f3n del Curso    theme:      name: material</li> </ol>"},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/","title":"Work Forward Kinematics for KUKA AN UR ROBOT","text":""},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/#1-activity-goals","title":"1) Activity Goals","text":"<ul> <li> <p>Correctly assign coordinate frames to each joint following the DH convention.</p> </li> <li> <p>Identify the four specific parameters for each link.</p> </li> <li> <p>Organize the extractedvalues into a standard DH parameter table to represent the robot's kinematic structure.</p> </li> <li> <p>Get the DH paramaters of each robot.</p> </li> <li> <p>know is the kinematics of each robot.</p> </li> <li> <p>Know how is the movement in each joint of the kuka and ur robot, looking how is the manufacturer sets it to each positive turn.</p> </li> </ul>"},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/#2-materials","title":"2) Materials","text":"<p>No materials required </p>"},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/#analysis","title":"Analysis","text":""},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/#exercise-1-kuka-robot","title":"Exercise 1 KUKA Robot","text":"<ul> <li>This exercise only has 6 movents: All movements are revolution.</li> </ul> <ul> <li>For to do more easy the analisys of the robot, we can rewrite each joint and link. </li> </ul> <ul> <li>After to get the DH parametrs table and the matrix of each number, we can do the final matrix, for this step we can use MatLab live script ffor simplify the calculous. </li> </ul> <pre><code>%% CODE MATRIX FINAL\nsyms q0 q1 q2 q3 q4 q5 real\n\n% I define the table\nDH = [\n    q0,          -420,  240,  pi/2;\n    q1 + pi/2,      0, -670,     0;\n    q2,             0,    0, -pi/2;\n    q3,          -628,    0,  pi/2;\n    q4,             0,    0, -pi/2;\n    q5,          -135,    0,     0\n];\n\nT_final = eye(4);\n\nfor i = 1:6\n    th = DH(i,1); d = DH(i,2); a = DH(i,3); al = DH(i,4);\n\n    % Matriz de paso i-1 a i\n    A = [cos(th), -sin(th)*cos(al),  sin(th)*sin(al), a*cos(th);\n         sin(th),  cos(th)*cos(al), -cos(th)*sin(al), a*sin(th);\n         0,        sin(al),          cos(al),         d;\n         0,        0,                0,               1];\n\n    T_final = simplify(T_final * A);\nend\n\ndisp('Matriz de Transformaci\u00f3n Final T_0_6:');\npretty(T_final)\n</code></pre>"},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/#final-matrix","title":"Final matrix","text":"<ul> <li>This the final matrix given by the MatLab code.</li> </ul>"},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/#exercise-2-ur-robot","title":"Exercise 2 UR Robot","text":"<ul> <li>This exercise only has 6 movents: All movements are revolution.</li> </ul> <ul> <li>For to do more easy the analisys of the robot, we can rewrite each joint and link. </li> </ul> <ul> <li>After to get the DH parametrs table and the matrix of each number, we can do the final matrix, for this step we can use MatLab live script ffor simplify the calculous. </li> </ul> <pre><code>clear; clc;\n\n\nsyms q0 q1 q2 q3 q4 q5 real\nsyms l1 l2 l4 l5 l6 l7 l8 real\n\n\nDH = [\n    q0 + pi/2,   l1,   0,  -pi/2;\n    q1 - pi/2,  -l2,   0,      0;\n    q2,          l4,  l5,      0;\n    q3 + pi/2,  -l6,   0,   pi/2;\n    q4,          l7,   0,   pi/2;\n    q5,          l8,   0,      0\n];\n\n\nT_final = eye(4);\n\nfor i = 1:6\n    th = DH(i,1); d = DH(i,2); a = DH(i,3); al = DH(i,4);\n\n    A = [cos(th), -sin(th)*cos(al),  sin(th)*sin(al), a*cos(th);\n         sin(th),  cos(th)*cos(al), -cos(th)*sin(al), a*sin(th);\n         0,        sin(al),          cos(al),         d;\n         0,        0,                0,               1];\n\n    T_final = simplify(T_final * A);\nend\ndisp('Matriz de Transformaci\u00f3n Final T_0_6:');\npretty(T_final) \n</code></pre>"},{"location":"Forward%20Kinematics%20for%20KUKA%20AN%20UR%20ROBOT/#final-matrix_1","title":"Final matrix","text":"<ul> <li>This the final matrix given by the MatLab code.</li> </ul>"},{"location":"Forward%20Kinematics/","title":"Work 4: Foward Kinematics","text":""},{"location":"Forward%20Kinematics/#1-activity-goals","title":"1) Activity Goals","text":"<p>Correctly assign coordinate frames to each joint following the DH convention. Identify the four specific parameters for each link. Organize the extractedvalues into a standard DH parameter table to represent the robot's kinematic structure.</p>"},{"location":"Forward%20Kinematics/#2-materials","title":"2) Materials","text":"<p>No materials required </p>"},{"location":"Forward%20Kinematics/#analysis","title":"Analysis","text":""},{"location":"Forward%20Kinematics/#exercise-1","title":"Exercise 1","text":"<ul> <li>This exercise only has 2 movents: Prismatic and rovolution.</li> </ul>"},{"location":"Forward%20Kinematics/#exercise-2","title":"Exercise 2","text":"<ul> <li>For this exercise we have a robot with 3 prismatic movents and the tool. </li> </ul>"},{"location":"Forward%20Kinematics/#exercise-3","title":"Exercise 3","text":"<ul> <li>For this exercise the robot has more movements that the las one, for that we have more joints, movents and a tool. </li> </ul>"},{"location":"Forward%20Kinematics/#exercise-4","title":"Exercise 4","text":"<ul> <li>This exercise is a little confuse because we have movents, joints and tool for that we can to rewrite the robot for do more easy the analisys. </li> </ul>"},{"location":"Forward%20Kinematics/#exercise-5","title":"Exercise 5","text":"<ul> <li>This exercise is the same to the last one, we have to rewrite the robot for do more easy the analisys. </li> </ul>"},{"location":"HTTP%20WiFi%20Lab/","title":"LAB 03","text":""},{"location":"HTTP%20WiFi%20Lab/#team","title":"Team","text":"<p>Yahir Gil Mendoza</p> <p>Isaac Aleman</p> <p>Pablo Eduardo L\u00f3pez Manzano</p>"},{"location":"HTTP%20WiFi%20Lab/#1-activity-goals","title":"1) Activity Goals","text":"<ul> <li> <p>Understand the Embedded Server: Set up and manage the lightweight esp_http_server within the ESP-IDF environment.</p> </li> <li> <p>Configure URI Handlers: Register and map specific API routes for HTML interfaces and /api/led for JSON endpoints to their corresponding C functions.</p> </li> <li> <p>Process HTTP Requests: Successfully read and parse incoming request bodie, particularly extracting JSON data from POST requests to control device hardware in this case a led.</p> </li> <li> <p>Manage HTTP Headers: Assign appropriate Content-Type to server responses to ensure browsers correctly interpret them as text/html or application/json.</p> </li> </ul>"},{"location":"HTTP%20WiFi%20Lab/#2-materials","title":"2) Materials","text":"<ul> <li>ESP32\u2011C6 with USB\u2011C cable (data-capable)</li> <li>LED + 330 \u03a9 resistor + jumper wires</li> <li>protoboard</li> <li>Motor DC</li> </ul>"},{"location":"HTTP%20WiFi%20Lab/#3-procedure","title":"3) Procedure","text":"<ul> <li>First: we use the code given by the teacher, for follow how is the program, html and the IP.</li> </ul>"},{"location":"HTTP%20WiFi%20Lab/#code-1-general-code","title":"Code 1:  General code","text":"<p><pre><code>/*\n * LAB 3 \u2014 ESP32-C6 Wi-Fi + HTTP LED Control \n *\n * Features:\n *  - Wi-Fi STA connect + reconnect using events\n *  - Wait for IP (WIFI_CONNECTED_BIT)\n *  - Simple GPIO LED control (gpio_reset_pin + gpio_set_direction)\n *  - HTTP server:\n *      GET  /         -&gt; HTML UI\n *      GET  /api/led  -&gt; JSON {\"state\":0|1}\n *      POST /api/led  -&gt; JSON {\"state\":0|1} sets LED, returns {\"ok\":true}\n *\n */\n// String handling and standard libraries\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n// FreeRTOS and event groups\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/event_groups.h\"\n// ESP-IDF Logging and error handling\n#include \"esp_log.h\"\n#include \"esp_err.h\"\n// Wi-Fi and network\n#include \"nvs_flash.h\"\n#include \"esp_netif.h\"\n#include \"esp_event.h\"\n#include \"esp_wifi.h\"\n// GPIO control\n#include \"driver/gpio.h\"\n// HTTP server\n#include \"esp_http_server.h\"\n\n/* ===================== User config ===================== */\n#define WIFI_SSID \"SSID_HERE\"\n#define WIFI_PASS \"PASS_HERE\"\n\n/* LED pin */\n#define LED_GPIO  8\n\n/* Reconnect policy */\n#define MAX_RETRY 10\n\n/* ===================== Globals ===================== */\nstatic const char *TAG = \"LAB_3\";\n\n// Wi-Fi event group and bit seen in Lab 2\nstatic EventGroupHandle_t s_wifi_event_group;\n#define WIFI_CONNECTED_BIT BIT0\n\n\nstatic int s_retry = 0;// Retry count for Wi-Fi reconnects\n\nstatic int s_led_state = 0;               // 0=OFF, 1=ON\nstatic httpd_handle_t s_server = NULL;    // HTTP server handle\n\n/* ===================== LED helpers ===================== */\nstatic void led_init(void)\n{\n    gpio_reset_pin(LED_GPIO);\n    gpio_set_direction(LED_GPIO, GPIO_MODE_OUTPUT);\n\n    s_led_state = 0;\n    gpio_set_level(LED_GPIO, s_led_state);\n\n    ESP_LOGI(TAG, \"LED initialized on GPIO %d (state=%d)\", LED_GPIO, s_led_state);\n}\n\n/*Function to set the LED from the state*/\nstatic void led_set(int on)\n{\n    s_led_state = (on != 0);\n    gpio_set_level(LED_GPIO, s_led_state);\n    ESP_LOGI(TAG, \"LED set to %d\", s_led_state);\n}\n\n/* ===================== HTTP handlers ===================== */\n/*Remember, handlers are special functions that process HTTP requests and generate responses*/\n\n\n\n\nstatic esp_err_t api_led_get(httpd_req_t *req)\n{\n    /* resp is a buffer to hold the JSON response  text in this case our jason is\n       either {\"state\":0} or {\"state\":1} */\n    char resp[32];\n    /*sprintf is a normal printf for strings, snprintf is safer because it \n    limits the number of characters written to the buffer\n\n    Here we build the JSON string with the current LED state. \n    */\n    snprintf(resp, sizeof(resp), \"{\\\"state\\\":%d}\", s_led_state);\n\n    /* Tell the client (browser/Postman/etc.) that the payload is JSON.\n       This sets the HTTP header: Content-Type: application/json */\n    httpd_resp_set_type(req, \"application/json\");\n\n    /* Send the response body to the client.\n       - 'resp' is the payload\n       - HTTPD_RESP_USE_STRLEN tells ESP-IDF to compute the string length automatically\n         (it treats resp as a null-terminated C string). */\n    httpd_resp_send(req, resp, HTTPD_RESP_USE_STRLEN);\n\n    /* Return ESP_OK so the HTTP server knows the request was handled correctly. */\n    return ESP_OK;\n}\n\nstatic esp_err_t api_led_post(httpd_req_t *req)\n{\n    // Basic safety: reject empty or very large payloads\n    if (req-&gt;content_len &lt;= 0 || req-&gt;content_len &gt; 256) {\n        httpd_resp_send_err(req, HTTPD_400_BAD_REQUEST, \"Invalid Content-Length\");\n        return ESP_FAIL;\n    }\n\n    char buf[257] = {0}; // +1 for null terminator\n    int received = httpd_req_recv(req, buf, req-&gt;content_len);\n    if (received &lt;= 0) {\n        httpd_resp_send_err(req, HTTPD_400_BAD_REQUEST, \"Empty body\");\n        return ESP_FAIL;\n    }\n    buf[received] = '\\0';\n\n    // Minimal parse: find \"state\":&lt;number&gt;\n    int state = -1;\n    char *p = strstr(buf, \"\\\"state\\\"\");\n    if (p) {\n        p = strchr(p, ':');\n        if (p) state = atoi(p + 1);\n    }\n\n    if (state != 0 &amp;&amp; state != 1) {\n        httpd_resp_send_err(req, HTTPD_400_BAD_REQUEST, \"state must be 0 or 1\");\n        return ESP_FAIL;\n    }\n\n    led_set(state);\n\n    httpd_resp_set_type(req, \"application/json\");\n    httpd_resp_sendstr(req, \"{\\\"ok\\\":true}\");\n    return ESP_OK;\n}\n\nstatic esp_err_t root_get_handler(httpd_req_t *req)\n{\n    // Readable inline HTML\n    static const char *INDEX_HTML =\n        \"&lt;!doctype html&gt;\\n\"\n        \"&lt;html&gt;\\n\"\n        \"&lt;head&gt;\\n\"\n        \"  &lt;meta charset='utf-8'&gt;\\n\"\n        \"  &lt;meta name='viewport' content='width=device-width, initial-scale=1'&gt;\\n\"\n        \"  &lt;title&gt;ESP32-C6 LED&lt;/title&gt;\\n\"\n        \"&lt;/head&gt;\\n\"\n        \"&lt;body&gt;\\n\"\n        \"  &lt;h2&gt;ESP32-C6 LED Control&lt;/h2&gt;\\n\"\n        \"  &lt;button onclick='setLed(1)'&gt;ON&lt;/button&gt;\\n\"\n        \"  &lt;button onclick='setLed(0)'&gt;OFF&lt;/button&gt;\\n\"\n        \"  &lt;p id='st'&gt;State: ?&lt;/p&gt;\\n\"\n        \"\\n\"\n        \"  &lt;script&gt;\\n\"\n        \"    async function refresh(){\\n\"\n        \"      const r = await fetch('/api/led');\\n\"\n        \"      const j = await r.json();\\n\"\n        \"      document.getElementById('st').innerText = 'State: ' + j.state;\\n\"\n        \"    }\\n\"\n        \"    async function setLed(v){\\n\"\n        \"      await fetch('/api/led', {\\n\"\n        \"        method: 'POST',\\n\"\n        \"        headers: {'Content-Type':'application/json'},\\n\"\n        \"        body: JSON.stringify({state:v})\\n\"\n        \"      });\\n\"\n        \"      refresh();\\n\"\n        \"    }\\n\"\n        \"    setInterval(refresh, 1000);\\n\"\n        \"    refresh();\\n\"\n        \"  &lt;/script&gt;\\n\"\n        \"&lt;/body&gt;\\n\"\n        \"&lt;/html&gt;\\n\";\n\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, INDEX_HTML, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic void http_server_start(void)\n{\n    httpd_config_t config = HTTPD_DEFAULT_CONFIG();\n    ESP_ERROR_CHECK(httpd_start(&amp;s_server, &amp;config));\n    ESP_LOGI(TAG, \"HTTP server started\");\n\n    httpd_uri_t root = {\n        .uri      = \"/\",\n        .method   = HTTP_GET,\n        .handler  = root_get_handler,\n        .user_ctx = NULL\n    };\n\n    httpd_uri_t led_get = {\n        .uri      = \"/api/led\",\n        .method   = HTTP_GET,\n        .handler  = api_led_get,\n        .user_ctx = NULL\n    };\n\n    httpd_uri_t led_post = {\n        .uri      = \"/api/led\",\n        .method   = HTTP_POST,\n        .handler  = api_led_post,\n        .user_ctx = NULL\n    };\n\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;root));\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;led_get));\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;led_post));\n\n    ESP_LOGI(TAG, \"Routes registered: /  ,  GET/POST /api/led\");\n}\n\n/* ===================== Wi-Fi STA connect + events ===================== */\n\nstatic void wifi_event_handler(void *arg,\n                               esp_event_base_t event_base,\n                               int32_t event_id,\n                               void *event_data)\n{\n    if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_START) {\n        ESP_LOGI(TAG, \"WIFI_EVENT_STA_START -&gt; esp_wifi_connect()\");\n        ESP_ERROR_CHECK(esp_wifi_connect());\n        return;\n    }\n\n    if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_DISCONNECTED) {\n        if (s_retry &lt; MAX_RETRY) {\n            s_retry++;\n            ESP_LOGW(TAG, \"Disconnected. Retrying (%d/%d)...\", s_retry, MAX_RETRY);\n            ESP_ERROR_CHECK(esp_wifi_connect());\n        } else {\n            ESP_LOGE(TAG, \"Failed to connect after %d retries.\", MAX_RETRY);\n        }\n        return;\n    }\n\n    if (event_base == IP_EVENT &amp;&amp; event_id == IP_EVENT_STA_GOT_IP) {\n        ip_event_got_ip_t *event = (ip_event_got_ip_t *)event_data;\n        ESP_LOGI(TAG, \"Got IP: \" IPSTR, IP2STR(&amp;event-&gt;ip_info.ip));\n\n        s_retry = 0;\n        xEventGroupSetBits(s_wifi_event_group, WIFI_CONNECTED_BIT);\n        return;\n    }\n}\n\nstatic void wifi_init_sta(void)\n{\n    s_wifi_event_group = xEventGroupCreate();\n\n    ESP_ERROR_CHECK(esp_netif_init());\n    ESP_ERROR_CHECK(esp_event_loop_create_default());\n    esp_netif_create_default_wifi_sta();\n\n    wifi_init_config_t cfg = WIFI_INIT_CONFIG_DEFAULT();\n    ESP_ERROR_CHECK(esp_wifi_init(&amp;cfg));\n\n    ESP_ERROR_CHECK(esp_event_handler_register(WIFI_EVENT, ESP_EVENT_ANY_ID, &amp;wifi_event_handler, NULL));\n    ESP_ERROR_CHECK(esp_event_handler_register(IP_EVENT, IP_EVENT_STA_GOT_IP, &amp;wifi_event_handler, NULL));\n\n    wifi_config_t wifi_config = {0};\n    strncpy((char *)wifi_config.sta.ssid, WIFI_SSID, sizeof(wifi_config.sta.ssid));\n    strncpy((char *)wifi_config.sta.password, WIFI_PASS, sizeof(wifi_config.sta.password));\n\n    ESP_LOGI(TAG, \"Configuring Wi-Fi STA: SSID='%s'\", WIFI_SSID);\n\n    ESP_ERROR_CHECK(esp_wifi_set_mode(WIFI_MODE_STA));\n    ESP_ERROR_CHECK(esp_wifi_set_config(WIFI_IF_STA, &amp;wifi_config));\n    ESP_ERROR_CHECK(esp_wifi_start());\n}\n\n/* ===================== app_main ===================== */\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Lab D start: Wi-Fi + HTTP + LED control.\");\n\n    // NVS init (required by Wi-Fi)\n    esp_err_t ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND) {\n        ESP_ERROR_CHECK(nvs_flash_erase());\n        ESP_ERROR_CHECK(nvs_flash_init());\n    } else {\n        ESP_ERROR_CHECK(ret);\n    }\n\n    // Connect to Wi-Fi (STA)\n    wifi_init_sta();\n\n    // Wait for \"got IP\" (connected)\n    EventBits_t bits = xEventGroupWaitBits(\n        s_wifi_event_group,\n        WIFI_CONNECTED_BIT,\n        pdFALSE,\n        pdTRUE,\n        pdMS_TO_TICKS(30000)\n    );\n\n    if (!(bits &amp; WIFI_CONNECTED_BIT)) {\n        ESP_LOGE(TAG, \"Timeout waiting for Wi-Fi connection. Check SSID/PASS and 2.4 GHz.\");\n        return;\n    }\n\n    // Start peripherals + HTTP\n    led_init();\n    http_server_start();\n\n    ESP_LOGI(TAG, \"Open: http://&lt;ESP_IP&gt;/ from a device on the same network.\");\n}\n</code></pre> * Second: We have to add in the code the second led and change the .html for add another button.</p>"},{"location":"HTTP%20WiFi%20Lab/#code-2-with-2-buttons-and-2-leds","title":"Code 2: With 2 buttons and 2 leds","text":"<p><pre><code>/*\n * LAB 3 \u2014 ESP32-C6 Wi-Fi + HTTP LED Control \n */\n\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/event_groups.h\"\n\n#include \"esp_log.h\"\n#include \"esp_err.h\"\n\n#include \"nvs_flash.h\"\n#include \"esp_netif.h\"\n#include \"esp_event.h\"\n#include \"esp_wifi.h\"\n\n#include \"driver/gpio.h\"\n#include \"esp_http_server.h\"\n\n/* ===================== User config ===================== */\n#define WIFI_SSID \"iPhone\"\n#define WIFI_PASS \"12345678\"\n\n#define LED_GPIO   8\n#define LED2_GPIO  1  // Segundo LED agregado en GPIO 01\n#define MAX_RETRY 10\n\n/* ===================== Globals ===================== */\nstatic const char *TAG = \"LAB_3\";\n\nstatic EventGroupHandle_t s_wifi_event_group;\n#define WIFI_CONNECTED_BIT BIT0\n\nstatic int s_retry = 0;\nstatic int s_led_state = 0;            // 0=OFF, 1=ON\nstatic int s_led2_state = 0;           // Estado para el segundo LED\nstatic httpd_handle_t s_server = NULL;\n\n/* ===================== LED helpers ===================== */\nstatic void led_init(void)\n{\n    // Inicializar LED 1\n    gpio_reset_pin(LED_GPIO);\n    gpio_set_direction(LED_GPIO, GPIO_MODE_OUTPUT);\n    s_led_state = 0;\n    gpio_set_level(LED_GPIO, s_led_state);\n\n    // Inicializar LED 2 (GPIO 01)\n    gpio_reset_pin(LED2_GPIO);\n    gpio_set_direction(LED2_GPIO, GPIO_MODE_OUTPUT);\n    s_led2_state = 0;\n    gpio_set_level(LED2_GPIO, s_led2_state);\n\n    ESP_LOGI(TAG, \"LEDs initialized: GPIO %d and GPIO %d\", LED_GPIO, LED2_GPIO);\n}\n\nstatic void led_set(int on)\n{\n    s_led_state = (on != 0);\n    gpio_set_level(LED_GPIO, s_led_state);\n}\n\nstatic void led2_set(int on)\n{\n    s_led2_state = (on != 0);\n    gpio_set_level(LED2_GPIO, s_led2_state);\n}\n\n/* ===================== HTTP Handlers ===================== */\n\nstatic esp_err_t root_get_handler(httpd_req_t *req)\n{\n    static const char *INDEX_HTML =\n        \"&lt;!doctype html&gt;\\n\"\n        \"&lt;html&gt;&lt;head&gt;\\n\"\n        \"  &lt;meta charset='utf-8'&gt;\\n\"\n        \"  &lt;meta name='viewport' content='width=device-width, initial-scale=1'&gt;\\n\"\n        \"  &lt;title&gt;ESP32-C6 LED Control&lt;/title&gt;\\n\"\n        \"&lt;/head&gt;&lt;body&gt;\\n\"\n        \"  &lt;h2&gt;ESP32-C6 LED Control&lt;/h2&gt;\\n\"\n        \"  &lt;p&gt;&lt;strong&gt;Control LED 1 :&lt;/strong&gt;&lt;/p&gt;\\n\"\n        \"  &lt;p&gt;\\n\"\n        \"    &lt;a href='/ledon'&gt;&lt;button&gt;LED 1 ON&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"    &lt;a href='/ledoff'&gt;&lt;button&gt;LED 1 OFF&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"  &lt;/p&gt;\\n\"\n        \"  &lt;p&gt;&lt;strong&gt;Control LED 2 :&lt;/strong&gt;&lt;/p&gt;\\n\"\n        \"  &lt;p&gt;\\n\"\n        \"    &lt;a href='/led2on'&gt;&lt;button&gt;LED 2 ON&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"    &lt;a href='/led2off'&gt;&lt;button&gt;LED 2 OFF&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"  &lt;/p&gt;\\n\"\n        \"&lt;/body&gt;&lt;/html&gt;\\n\";\n\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, INDEX_HTML, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t ledon_get_handler(httpd_req_t *req)\n{\n    led_set(1);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 1 is now: ON&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t ledoff_get_handler(httpd_req_t *req)\n{\n    led_set(0);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 1 is now: OFF&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t led2on_get_handler(httpd_req_t *req)\n{\n    led2_set(1);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 2 is now: ON&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t led2off_get_handler(httpd_req_t *req)\n{\n    led2_set(0);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 2 is now: OFF&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\n/* ===================== HTTP Server Start + Route Registration ===================== */\n\nstatic void http_server_start(void)\n{\n    httpd_config_t config = HTTPD_DEFAULT_CONFIG();\n    ESP_ERROR_CHECK(httpd_start(&amp;s_server, &amp;config));\n\n    httpd_uri_t root = { .uri = \"/\", .method = HTTP_GET, .handler = root_get_handler };\n    httpd_uri_t ledon = { .uri = \"/ledon\", .method = HTTP_GET, .handler = ledon_get_handler };\n    httpd_uri_t ledoff = { .uri = \"/ledoff\", .method = HTTP_GET, .handler = ledoff_get_handler };\n    httpd_uri_t led2on = { .uri = \"/led2on\", .method = HTTP_GET, .handler = led2on_get_handler };\n    httpd_uri_t led2off = { .uri = \"/led2off\", .method = HTTP_GET, .handler = led2off_get_handler };\n\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;root));\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;ledon));\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;ledoff));\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;led2on));\n    ESP_ERROR_CHECK(httpd_register_uri_handler(s_server, &amp;led2off));\n\n    ESP_LOGI(TAG, \"Routes registered: LED 1 and LED 2 controls available.\");\n}\n\n/* ===================== Wi-Fi STA connect + events (Sin cambios) ===================== */\n\nstatic void wifi_event_handler(void *arg, esp_event_base_t event_base, int32_t event_id, void *event_data)\n{\n    if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_START) {\n        esp_wifi_connect();\n    } else if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_DISCONNECTED) {\n        if (s_retry &lt; MAX_RETRY) {\n            s_retry++;\n            esp_wifi_connect();\n        }\n    } else if (event_base == IP_EVENT &amp;&amp; event_id == IP_EVENT_STA_GOT_IP) {\n        s_retry = 0;\n        xEventGroupSetBits(s_wifi_event_group, WIFI_CONNECTED_BIT);\n    }\n}\n\nstatic void wifi_init_sta(void)\n{\n    s_wifi_event_group = xEventGroupCreate();\n    esp_netif_init();\n    esp_event_loop_create_default();\n    esp_netif_create_default_wifi_sta();\n    wifi_init_config_t cfg = WIFI_INIT_CONFIG_DEFAULT();\n    esp_wifi_init(&amp;cfg);\n    esp_event_handler_register(WIFI_EVENT, ESP_EVENT_ANY_ID, &amp;wifi_event_handler, NULL);\n    esp_event_handler_register(IP_EVENT, IP_EVENT_STA_GOT_IP, &amp;wifi_event_handler, NULL);\n    wifi_config_t wifi_config = {0};\n    strncpy((char *)wifi_config.sta.ssid, WIFI_SSID, sizeof(wifi_config.sta.ssid));\n    strncpy((char *)wifi_config.sta.password, WIFI_PASS, sizeof(wifi_config.sta.password));\n    esp_wifi_set_mode(WIFI_MODE_STA);\n    esp_wifi_set_config(WIFI_IF_STA, &amp;wifi_config);\n    esp_wifi_start();\n}\n\n/* ===================== app_main ===================== */\n\nvoid app_main(void)\n{\n    esp_err_t ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND) {\n        ESP_ERROR_CHECK(nvs_flash_erase());\n        ESP_ERROR_CHECK(nvs_flash_init());\n    }\n    wifi_init_sta();\n    xEventGroupWaitBits(s_wifi_event_group, WIFI_CONNECTED_BIT, pdFALSE, pdTRUE, pdMS_TO_TICKS(30000));\n\n    led_init();\n    http_server_start();\n}\n</code></pre> * Third: For this step, we hace to add a counter, this counter is for when we push on or off, the counter will go count each push. </p>"},{"location":"HTTP%20WiFi%20Lab/#code-3-add-the-counter","title":"Code 3: Add the counter.","text":"<p><pre><code>/*\n * LAB 3 \u2014 ESP32-C6 Wi-Fi + HTTP LED Control + Auto-Refresh Counter\n */\n\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"freertos/event_groups.h\"\n\n#include \"esp_log.h\"\n#include \"esp_err.h\"\n\n#include \"nvs_flash.h\"\n#include \"esp_netif.h\"\n#include \"esp_event.h\"\n#include \"esp_wifi.h\"\n\n#include \"driver/gpio.h\"\n#include \"esp_http_server.h\"\n\n/* ===================== User config ===================== */\n#define WIFI_SSID \"Xr Yahir\"\n#define WIFI_PASS \"12345678\"\n\n#define LED_GPIO   8\n#define LED2_GPIO  1  \n#define BTN_GPIO   4  \n#define MAX_RETRY 10\n\n/* ===================== Globals ===================== */\nstatic const char *TAG = \"LAB_3\";\n\nstatic EventGroupHandle_t s_wifi_event_group;\n#define WIFI_CONNECTED_BIT BIT0\n\nstatic int s_retry = 0;\nstatic int s_led_state = 0;            \nstatic int s_led2_state = 0;           \nstatic int s_btn_counter = 0;          \nstatic httpd_handle_t s_server = NULL;\n\n/* ===================== Peripherals helpers ===================== */\nstatic void led_init(void)\n{\n    gpio_reset_pin(LED_GPIO);\n    gpio_set_direction(LED_GPIO, GPIO_MODE_OUTPUT);\n    s_led_state = 0;\n    gpio_set_level(LED_GPIO, s_led_state);\n\n    gpio_reset_pin(LED2_GPIO);\n    gpio_set_direction(LED2_GPIO, GPIO_MODE_OUTPUT);\n    s_led2_state = 0;\n    gpio_set_level(LED2_GPIO, s_led2_state);\n\n    gpio_reset_pin(BTN_GPIO);\n    gpio_set_direction(BTN_GPIO, GPIO_MODE_INPUT);\n    gpio_pullup_en(BTN_GPIO);\n\n    ESP_LOGI(TAG, \"LEDs and Button initialized.\");\n}\n\nvoid button_task(void *pvParameter) {\n    int last_state = 1;\n    while(1) {\n        int current_state = gpio_get_level(BTN_GPIO);\n        if (last_state == 1 &amp;&amp; current_state == 0) {\n            s_btn_counter++;\n            vTaskDelay(pdMS_TO_TICKS(200)); \n        }\n        last_state = current_state;\n        vTaskDelay(pdMS_TO_TICKS(50));\n    }\n}\n\nstatic void led_set(int on) {\n    s_led_state = (on != 0);\n    gpio_set_level(LED_GPIO, s_led_state);\n}\n\nstatic void led2_set(int on) {\n    s_led2_state = (on != 0);\n    gpio_set_level(LED2_GPIO, s_led2_state);\n}\n\n/* ===================== HTTP Handlers ===================== */\n\nstatic esp_err_t status_get_handler(httpd_req_t *req) {\n    char resp[16];\n    snprintf(resp, sizeof(resp), \"%d\", s_btn_counter);\n    httpd_resp_send(req, resp, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t root_get_handler(httpd_req_t *req)\n{\n    static const char *INDEX_HTML =\n        \"&lt;!doctype html&gt;\\n\"\n        \"&lt;html&gt;&lt;head&gt;\\n\"\n        \"  &lt;meta charset='utf-8'&gt;\\n\"\n        \"  &lt;meta name='viewport' content='width=device-width, initial-scale=1'&gt;\\n\"\n        \"  &lt;title&gt;ESP32-C6 LED Control&lt;/title&gt;\\n\"\n        \"&lt;/head&gt;&lt;body&gt;\\n\"\n        \"  &lt;h2&gt;ESP32-C6 LED Control&lt;/h2&gt;\\n\"\n\n        \"  &lt;p&gt;&lt;strong&gt;Control LED 1 :&lt;/strong&gt;&lt;/p&gt;\\n\"\n        \"  &lt;p&gt;\\n\"\n        \"    &lt;a href='/ledon'&gt;&lt;button&gt;LED 1 ON&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"    &lt;a href='/ledoff'&gt;&lt;button&gt;LED 1 OFF&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"  &lt;/p&gt;\\n\"\n        \"  &lt;p&gt;&lt;strong&gt;Control LED 2 :&lt;/strong&gt;&lt;/p&gt;\\n\"\n        \"  &lt;p&gt;\\n\"\n        \"    &lt;a href='/led2on'&gt;&lt;button&gt;LED 2 ON&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"    &lt;a href='/led2off'&gt;&lt;button&gt;LED 2 OFF&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"  &lt;p&gt;&lt;strong&gt;Contador: &lt;span id='v'&gt;0&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;\\n\"\n\n        \"  &lt;/p&gt;\\n\"\n        \"  &lt;script&gt;\\n\"\n        \"    function refresh() {\\n\"\n        \"      fetch('/status').then(r =&gt; r.text()).then(d =&gt; {\\n\"\n        \"        document.getElementById('v').innerText = d;\\n\"\n        \"      });\\n\"\n        \"    }\\n\"\n        \"    setInterval(refresh, 1000);\\n\"\n        \"    refresh();\\n\"\n        \"  &lt;/script&gt;\\n\"\n        \"&lt;/body&gt;&lt;/html&gt;\\n\";\n\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, INDEX_HTML, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t ledon_get_handler(httpd_req_t *req) {\n    led_set(1);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 1 is now: ON&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t ledoff_get_handler(httpd_req_t *req) {\n    led_set(0);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 1 is now: OFF&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t led2on_get_handler(httpd_req_t *req) {\n    led2_set(1);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 2 is now: ON&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t led2off_get_handler(httpd_req_t *req) {\n    led2_set(0);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 2 is now: OFF&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\n/* ===================== HTTP Server Start ===================== */\n\nstatic void http_server_start(void)\n{\n    httpd_config_t config = HTTPD_DEFAULT_CONFIG();\n    ESP_ERROR_CHECK(httpd_start(&amp;s_server, &amp;config));\n\n    httpd_uri_t root = { .uri = \"/\", .method = HTTP_GET, .handler = root_get_handler };\n    httpd_uri_t stat = { .uri = \"/status\", .method = HTTP_GET, .handler = status_get_handler };\n    httpd_uri_t ledon = { .uri = \"/ledon\", .method = HTTP_GET, .handler = ledon_get_handler };\n    httpd_uri_t ledoff = { .uri = \"/ledoff\", .method = HTTP_GET, .handler = ledoff_get_handler };\n    httpd_uri_t led2on = { .uri = \"/led2on\", .method = HTTP_GET, .handler = led2on_get_handler };\n    httpd_uri_t led2off = { .uri = \"/led2off\", .method = HTTP_GET, .handler = led2off_get_handler };\n\n    httpd_register_uri_handler(s_server, &amp;root);\n    httpd_register_uri_handler(s_server, &amp;stat);\n    httpd_register_uri_handler(s_server, &amp;ledon);\n    httpd_register_uri_handler(s_server, &amp;ledoff);\n    httpd_register_uri_handler(s_server, &amp;led2on);\n    httpd_register_uri_handler(s_server, &amp;led2off);\n}\n\n/* ===================== Wi-Fi STA (Sin cambios) ===================== */\n\nstatic void wifi_event_handler(void *arg, esp_event_base_t event_base, int32_t event_id, void *event_data) {\n    if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_START) esp_wifi_connect();\n    else if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_DISCONNECTED) {\n        if (s_retry &lt; MAX_RETRY) { s_retry++; esp_wifi_connect(); }\n    } else if (event_base == IP_EVENT &amp;&amp; event_id == IP_EVENT_STA_GOT_IP) {\n        s_retry = 0; xEventGroupSetBits(s_wifi_event_group, WIFI_CONNECTED_BIT);\n    }\n}\n\nstatic void wifi_init_sta(void) {\n    s_wifi_event_group = xEventGroupCreate();\n    esp_netif_init();\n    esp_event_loop_create_default();\n    esp_netif_create_default_wifi_sta();\n    wifi_init_config_t cfg = WIFI_INIT_CONFIG_DEFAULT();\n    esp_wifi_init(&amp;cfg);\n    esp_event_handler_register(WIFI_EVENT, ESP_EVENT_ANY_ID, &amp;wifi_event_handler, NULL);\n    esp_event_handler_register(IP_EVENT, IP_EVENT_STA_GOT_IP, &amp;wifi_event_handler, NULL);\n    wifi_config_t wifi_config = { .sta = { .ssid = WIFI_SSID, .password = WIFI_PASS } };\n    esp_wifi_set_mode(WIFI_MODE_STA);\n    esp_wifi_set_config(WIFI_IF_STA, &amp;wifi_config);\n    esp_wifi_start();\n}\n\nvoid app_main(void)\n{\n    esp_err_t ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND) {\n        ESP_ERROR_CHECK(nvs_flash_erase());\n        ESP_ERROR_CHECK(nvs_flash_init());\n    }\n    wifi_init_sta();\n    xEventGroupWaitBits(s_wifi_event_group, WIFI_CONNECTED_BIT, pdFALSE, pdTRUE, portMAX_DELAY);\n\n    led_init();\n    xTaskCreate(button_task, \"button_task\", 2048, NULL, 5, NULL);\n    http_server_start();\n}\n</code></pre> * Fourth: Finally we add to the code the slider for control a dc motor. </p>"},{"location":"HTTP%20WiFi%20Lab/#code-4-slider-for-control-dc-motor","title":"Code 4: Slider for control DC motor","text":"<pre><code>#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"freertos/event_groups.h\"\n\n#include \"esp_log.h\"\n#include \"esp_err.h\"\n\n#include \"nvs_flash.h\"\n#include \"esp_netif.h\"\n#include \"esp_event.h\"\n#include \"esp_wifi.h\"\n\n#include \"driver/gpio.h\"\n#include \"driver/ledc.h\" // Librer\u00eda para PWM (Motor)\n#include \"esp_http_server.h\"\n\n/* ===================== User config ===================== */\n#define WIFI_SSID \"Xr Yahir\"\n#define WIFI_PASS \"12345678\"\n\n#define LED_GPIO   8\n#define LED2_GPIO  1  \n#define BTN_GPIO   4  \n#define MOTOR_GPIO 6  // Motor en GPIO 06\n#define MAX_RETRY  10\n\n// Configuraci\u00f3n PWM Motor\n#define LEDC_TIMER              LEDC_TIMER_0\n#define LEDC_MODE               LEDC_LOW_SPEED_MODE\n#define LEDC_CHANNEL            LEDC_CHANNEL_0\n#define LEDC_DUTY_RES           LEDC_TIMER_10_BIT // Resoluci\u00f3n de 0 a 1023\n#define LEDC_FREQUENCY          (5000)            // 5 kHz\n\n/* ===================== Globals ===================== */\nstatic const char *TAG = \"LAB_3\";\nstatic EventGroupHandle_t s_wifi_event_group;\n#define WIFI_CONNECTED_BIT BIT0\n\nstatic int s_retry = 0;\nstatic int s_led_state = 0;            \nstatic int s_led2_state = 0;           \nstatic int s_btn_counter = 0;          \nstatic httpd_handle_t s_server = NULL;\n\n/* ===================== Peripherals helpers ===================== */\nstatic void peripherals_init(void)\n{\n    // LEDs\n    gpio_reset_pin(LED_GPIO);\n    gpio_set_direction(LED_GPIO, GPIO_MODE_OUTPUT);\n    gpio_set_level(LED_GPIO, 0);\n\n    gpio_reset_pin(LED2_GPIO);\n    gpio_set_direction(LED2_GPIO, GPIO_MODE_OUTPUT);\n    gpio_set_level(LED2_GPIO, 0);\n\n    // Bot\u00f3n\n    gpio_reset_pin(BTN_GPIO);\n    gpio_set_direction(BTN_GPIO, GPIO_MODE_INPUT);\n    gpio_pullup_en(BTN_GPIO);\n\n    // Configuraci\u00f3n PWM para el Motor (GPIO 06)\n    ledc_timer_config_t ledc_timer = {\n        .speed_mode       = LEDC_MODE,\n        .timer_num        = LEDC_TIMER,\n        .duty_resolution  = LEDC_DUTY_RES,\n        .freq_hz          = LEDC_FREQUENCY,\n        .clk_cfg          = LEDC_AUTO_CLK\n    };\n    ledc_timer_config(&amp;ledc_timer);\n\n    ledc_channel_config_t ledc_channel = {\n        .speed_mode     = LEDC_MODE,\n        .channel        = LEDC_CHANNEL,\n        .timer_sel      = LEDC_TIMER,\n        .intr_type      = LEDC_INTR_DISABLE,\n        .gpio_num       = MOTOR_GPIO,\n        .duty           = 0, // Inicia apagado\n        .hpoint         = 0\n    };\n    ledc_channel_config(&amp;ledc_channel);\n\n    ESP_LOGI(TAG, \"Peripherals (LEDs, Button, Motor PWM) initialized.\");\n}\n\nvoid button_task(void *pvParameter) {\n    int last_state = 1;\n    while(1) {\n        int current_state = gpio_get_level(BTN_GPIO);\n        if (last_state == 1 &amp;&amp; current_state == 0) {\n            s_btn_counter++;\n            vTaskDelay(pdMS_TO_TICKS(200)); \n        }\n        last_state = current_state;\n        vTaskDelay(pdMS_TO_TICKS(50));\n    }\n}\n\nstatic void led_set(int on) {\n    s_led_state = (on != 0);\n    gpio_set_level(LED_GPIO, s_led_state);\n}\n\nstatic void led2_set(int on) {\n    s_led2_state = (on != 0);\n    gpio_set_level(LED2_GPIO, s_led2_state);\n}\n\n/* ===================== HTTP Handlers ===================== */\n\nstatic esp_err_t status_get_handler(httpd_req_t *req) {\n    char resp[16];\n    snprintf(resp, sizeof(resp), \"%d\", s_btn_counter);\n    httpd_resp_send(req, resp, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\n// Handler para la velocidad del motor\nstatic esp_err_t motor_set_handler(httpd_req_t *req) {\n    char buf[10];\n    int ret = httpd_req_get_url_query_str(req, buf, sizeof(buf));\n    if (ret == ESP_OK) {\n        char val_str[10];\n        if (httpd_query_key_value(buf, \"v\", val_str, sizeof(val_str)) == ESP_OK) {\n            int speed = atoi(val_str); // Valor de 0 a 100\n            uint32_t duty = (speed * 1023) / 100; // Mapeo a resoluci\u00f3n de 10 bits\n            ledc_set_duty(LEDC_MODE, LEDC_CHANNEL, duty);\n            ledc_update_duty(LEDC_MODE, LEDC_CHANNEL);\n        }\n    }\n    httpd_resp_send(req, NULL, 0);\n    return ESP_OK;\n}\n\nstatic esp_err_t root_get_handler(httpd_req_t *req)\n{\n    static const char *INDEX_HTML =\n        \"&lt;!doctype html&gt;\\n\"\n        \"&lt;html&gt;&lt;head&gt;\\n\"\n        \"  &lt;meta charset='utf-8'&gt;\\n\"\n        \"  &lt;meta name='viewport' content='width=device-width, initial-scale=1'&gt;\\n\"\n        \"  &lt;title&gt;ESP32-C6 Control&lt;/title&gt;\\n\"\n        \"&lt;/head&gt;&lt;body&gt;\\n\"\n        \"  &lt;h2&gt;ESP32-C6 LED Control&lt;/h2&gt;\\n\"\n        \"  &lt;p&gt;&lt;strong&gt;Control LED 1 :&lt;/strong&gt;&lt;/p&gt;\\n\"\n        \"  &lt;p&gt;\\n\"\n        \"    &lt;a href='/ledon'&gt;&lt;button&gt;LED 1 ON&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"    &lt;a href='/ledoff'&gt;&lt;button&gt;LED 1 OFF&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"  &lt;/p&gt;\\n\"\n        \"  &lt;p&gt;&lt;strong&gt;Control LED 2 :&lt;/strong&gt;&lt;/p&gt;\\n\"\n        \"  &lt;p&gt;\\n\"\n        \"    &lt;a href='/led2on'&gt;&lt;button&gt;LED 2 ON&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"    &lt;a href='/led2off'&gt;&lt;button&gt;LED 2 OFF&lt;/button&gt;&lt;/a&gt;\\n\"\n        \"  &lt;/p&gt;\\n\"\n        \"  &lt;p&gt;&lt;strong&gt;Contador: &lt;span id='v'&gt;0&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;\\n\"\n        \"  &lt;hr&gt;\\n\"\n        \"  &lt;h3&gt;Velocidad del Motor &lt;/h3&gt;\\n\"\n        \"  &lt;input type='range' min='0' max='100' value='0' style='width:80%%' oninput='setMotor(this.value)'&gt;\\n\"\n        \"  &lt;script&gt;\\n\"\n        \"    function setMotor(val) {\\n\"\n        \"      document.getElementById('p').innerText = val;\\n\"\n        \"      fetch('/motor?v=' + val);\\n\"\n        \"    }\\n\"\n        \"    function refresh() {\\n\"\n        \"      fetch('/status').then(r =&gt; r.text()).then(d =&gt; {\\n\"\n        \"        document.getElementById('v').innerText = d;\\n\"\n        \"      });\\n\"\n        \"    }\\n\"\n        \"    setInterval(refresh, 1000);\\n\"\n        \"    refresh();\\n\"\n        \"  &lt;/script&gt;\\n\"\n        \"&lt;/body&gt;&lt;/html&gt;\\n\";\n\n    httpd_resp_set_type(req, \"text/html\");\n    httpd_resp_send(req, INDEX_HTML, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t ledon_get_handler(httpd_req_t *req) {\n    led_set(1);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 1 is now: ON&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t ledoff_get_handler(httpd_req_t *req) {\n    led_set(0);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 1 is now: OFF&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t led2on_get_handler(httpd_req_t *req) {\n    led2_set(1);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 2 is now: ON&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\nstatic esp_err_t led2off_get_handler(httpd_req_t *req) {\n    led2_set(0);\n    static const char *RESP = \"&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h3&gt;LED 2 is now: OFF&lt;/h3&gt;&lt;p&gt;&lt;a href='/'&gt;&lt;button&gt;Back&lt;/button&gt;&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n    httpd_resp_send(req, RESP, HTTPD_RESP_USE_STRLEN);\n    return ESP_OK;\n}\n\n/* ===================== HTTP Server Start ===================== */\n\nstatic void http_server_start(void)\n{\n    httpd_config_t config = HTTPD_DEFAULT_CONFIG();\n    ESP_ERROR_CHECK(httpd_start(&amp;s_server, &amp;config));\n\n    httpd_uri_t root = { .uri = \"/\", .method = HTTP_GET, .handler = root_get_handler };\n    httpd_uri_t stat = { .uri = \"/status\", .method = HTTP_GET, .handler = status_get_handler };\n    httpd_uri_t mtr  = { .uri = \"/motor\",  .method = HTTP_GET, .handler = motor_set_handler };\n    httpd_uri_t ledon = { .uri = \"/ledon\", .method = HTTP_GET, .handler = ledon_get_handler };\n    httpd_uri_t ledoff = { .uri = \"/ledoff\", .method = HTTP_GET, .handler = ledoff_get_handler };\n    httpd_uri_t led2on = { .uri = \"/led2on\", .method = HTTP_GET, .handler = led2on_get_handler };\n    httpd_uri_t led2off = { .uri = \"/led2off\", .method = HTTP_GET, .handler = led2off_get_handler };\n\n    httpd_register_uri_handler(s_server, &amp;root);\n    httpd_register_uri_handler(s_server, &amp;stat);\n    httpd_register_uri_handler(s_server, &amp;mtr);\n    httpd_register_uri_handler(s_server, &amp;ledon);\n    httpd_register_uri_handler(s_server, &amp;ledoff);\n    httpd_register_uri_handler(s_server, &amp;led2on);\n    httpd_register_uri_handler(s_server, &amp;led2off);\n}\n\n/* ===================== Wi-Fi STA ===================== */\n\nstatic void wifi_event_handler(void *arg, esp_event_base_t event_base, int32_t event_id, void *event_data) {\n    if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_START) esp_wifi_connect();\n    else if (event_base == WIFI_EVENT &amp;&amp; event_id == WIFI_EVENT_STA_DISCONNECTED) {\n        if (s_retry &lt; MAX_RETRY) { s_retry++; esp_wifi_connect(); }\n    } else if (event_base == IP_EVENT &amp;&amp; event_id == IP_EVENT_STA_GOT_IP) {\n        s_retry = 0; xEventGroupSetBits(s_wifi_event_group, WIFI_CONNECTED_BIT);\n    }\n}\n\nstatic void wifi_init_sta(void) {\n    s_wifi_event_group = xEventGroupCreate();\n    esp_netif_init();\n    esp_event_loop_create_default();\n    esp_netif_create_default_wifi_sta();\n    wifi_init_config_t cfg = WIFI_INIT_CONFIG_DEFAULT();\n    esp_wifi_init(&amp;cfg);\n    esp_event_handler_register(WIFI_EVENT, ESP_EVENT_ANY_ID, &amp;wifi_event_handler, NULL);\n    esp_event_handler_register(IP_EVENT, IP_EVENT_STA_GOT_IP, &amp;wifi_event_handler, NULL);\n    wifi_config_t wifi_config = { .sta = { .ssid = WIFI_SSID, .password = WIFI_PASS } };\n    esp_wifi_set_mode(WIFI_MODE_STA);\n    esp_wifi_set_config(WIFI_IF_STA, &amp;wifi_config);\n    esp_wifi_start();\n}\n\nvoid app_main(void)\n{\n    esp_err_t ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND) {\n        ESP_ERROR_CHECK(nvs_flash_erase());\n        ESP_ERROR_CHECK(nvs_flash_init());\n    }\n    wifi_init_sta();\n    xEventGroupWaitBits(s_wifi_event_group, WIFI_CONNECTED_BIT, pdFALSE, pdTRUE, portMAX_DELAY);\n\n    peripherals_init();\n    xTaskCreate(button_task, \"button_task\", 2048, NULL, 5, NULL);\n    http_server_start();\n}\n</code></pre>"},{"location":"HTTP%20WiFi%20Lab/#results","title":"Results","text":"<ul> <li>2 leds and 2 buttons in the page</li> </ul> <ul> <li>The 2 buttons in the page </li> </ul> <ul> <li>2 buttons, 2 leds and the button for counter</li> </ul> <ul> <li>Page </li> </ul> <ul> <li>Motor DC and the slider</li> </ul> <ul> <li>Motor DC run</li> </ul> <p>Video motor DC]</p>"},{"location":"Hw_1/","title":"Work 1: Examples of robots by morphology","text":""},{"location":"Hw_1/#1-materials","title":"1) Materials","text":"<p>No materials required </p>"},{"location":"Hw_1/#2-procedure","title":"2) Procedure","text":"<ul> <li> <p>Cartesian Robot (PPP) 3D Printers and CNC Milling Machines</p> <ul> <li>Also known as Gantry robots. They move in straight lines, creating a rectangular workspace. They are extremely precise and easy to program. </li> </ul> <p>Most desktop 3D printers use this setup and CNC machines large scale industrial cutting.</p> </li> </ul> <p></p> <ul> <li> <p>Robot SCARA (RRP) Epson G-Series </p> <ul> <li>It is widely used in pick-and-place and electronic component assembly. It features two parallel revolute joints for the horizontal plane and one prismatic joint for vertical movement. It is the gold standard for high-speed assembly.</li> </ul> </li> </ul> <p></p> <ul> <li> <p>Articulated Robots (RRR) KUKA KR QUANTEC</p> <ul> <li>Three or more revolute joints (R-R-R). The most common industrial robot. It mimics the human arm (shoulder, elbow, wrist) and can reach almost any orientation. Kuka for heavy-duty welding and palletizing.</li> </ul> </li> </ul> <p></p> <ul> <li> <p>ASpherical Robots (RRP) Unimate 1900</p> <ul> <li>Two revolute joints and one prismatic (telescopic) joint. Its workspace is a section of a sphere. While less common today, it was the design of the very first industrial robots. Unimate 1900: The pioneer of the automotive industry.</li> </ul> </li> </ul> <p></p> <ul> <li> <p>Cylindrical Robots (RPP) Wafer Handlers</p> <ul> <li>One revolute joint at the base and two prismatic joints. The arm moves up/down and in/out while the base rotates. It creates a cylindrical workspace. Wafer HandleRS: Moving silicon discs in cleanrooms</li> </ul> </li> </ul> <p></p> <ul> <li>Delta Robots (Parallel) Fanuc M-1iA<ul> <li>Three parallel arms connected to a single platform. Designed for extreme speed. The heavy motors are fixed at the base, making the moving parts very light. Fanuc M-1iA: High-speed sorting.</li> </ul> </li> </ul> <p></p>"},{"location":"Lab%2001_ES/","title":"Lab 01","text":""},{"location":"Lab%2001_ES/#1-activity-goals","title":"1) Activity Goals","text":"<ul> <li>Understand FreeRTOS task creation and scheduling.</li> <li>Implementar el control de GPIO para el parpadeo de un LED en ESP32.</li> <li>Gestionar retardos de tiempo usando la funci\u00f3n vTaskDelay.</li> <li>Configurar correctamente las prioridades y tama\u00f1os de stack de las tareas.</li> </ul>"},{"location":"Lab%2001_ES/#2-materials","title":"2) Materials","text":"<p>No materials required </p>"},{"location":"Lab%2001_ES/#3-code","title":"3) Code","text":""},{"location":"Lab%2001_ES/#this-code-of-lab-01","title":"This code of LAb 01","text":"<pre><code>#include &lt;stdio.h&gt;\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"driver/gpio.h\"\n#include \"esp_log.h\"\n\n#define LED_GPIO GPIO_NUM_2   // CHANGE for your board\n\nstatic const char *TAG = \"LAB1\";\n\nstatic void blink_task(void *pvParameters)\n{\n    gpio_reset_pin(LED_GPIO);\n    gpio_set_direction(LED_GPIO, GPIO_MODE_OUTPUT);\n\n    while (1) {\n        gpio_set_level(LED_GPIO, 1);\n        vTaskDelay(pdMS_TO_TICKS(300));\n        gpio_set_level(LED_GPIO, 0);\n        vTaskDelay(pdMS_TO_TICKS(300));\n    }\n}\n\nstatic void hello_task(void *pvParameters)\n{\n    int n = 0;\n    while (1) {\n        ESP_LOGI(TAG, \"hello_task says hi, n=%d\", n++);\n        vTaskDelay(pdMS_TO_TICKS(1000));\n    }\n}\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Starting Lab 1 (two tasks)\");\n\n    // Stack size in ESP-IDF FreeRTOS is in BYTES\n    xTaskCreate(blink_task, \"blink_task\", 2048, NULL, 5, NULL);\n    xTaskCreate(hello_task, \"hello_task\", 2048, NULL, 5, NULL);\n}\n</code></pre>"},{"location":"Lab%2001_ES/#code-of-exercise-lab-01","title":"Code of exercise Lab 01","text":"<pre><code>#include &lt;stdio.h&gt;\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"driver/gpio.h\"\n#include \"esp_log.h\"\n\n#define LED_GPIO GPIO_NUM_2   \n\nstatic const char *TAG = \"LAB1\";\n\nstatic void blink_task(void *pvParameters)\n{\n    gpio_reset_pin(LED_GPIO);\n    gpio_set_direction(LED_GPIO, GPIO_MODE_OUTPUT);\n\n    while (1) {\n        gpio_set_level(LED_GPIO, 1);\n        vTaskDelay(pdMS_TO_TICKS(300));\n        gpio_set_level(LED_GPIO, 0);\n        vTaskDelay(pdMS_TO_TICKS(300));\n    }\n}\n\nstatic void hello_task(void *pvParameters)\n{\n    int n = 0;\n    while (1) {\n        ESP_LOGI(TAG, \"hello_task says hi, n=%d\", n++);\n        vTaskDelay(pdMS_TO_TICKS(1000));\n    }\n}\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Starting Lab 1 (two tasks)\");\n\n    // blink_task prioridad esta mas alta\n    xTaskCreate(blink_task, \"blink_task\", 2048, NULL, 5, NULL);\n\n    // hello_task prioridad baja (antes era 5)\n    xTaskCreate(hello_task, \"hello_task\", 2048, NULL, 2, NULL);\n}\n</code></pre>"},{"location":"Lab%2001_ES/#4-procedure","title":"4) Procedure","text":""},{"location":"Lab%2001_ES/#exercises","title":"Exercises","text":"<ul> <li>Priority experiment: change hello_task priority from 5 to 2.</li> </ul> <p>The code takes how more important task with lower number, so the code does first that task and continue with the code. </p> <ul> <li>Does behavior change? Why might it (or might it not)? Yes, how we changed the priority, the blinking task goes after the oanother task.</li> </ul> <p>Starvation demo: temporarily remove vTaskDelay(...) from hello_task.</p> <ul> <li>What happens to blinking?</li> </ul> <p>The sistem never will be blocked and then the task always will be ready, for this the hello task  saturates the CPU, that we can see like a bottleneck. For this the led doesn't blinking. </p> <ul> <li>Put the delay back and explain in one sentence why blocking helps.</li> </ul> <p>The led will be blinking again each 300 ms and the serial monitor mesaages will be each 1 s. </p>"},{"location":"Lab%2001_ES/#this-code-of-lab-02","title":"This code of LAb 02","text":"<pre><code>#include &lt;stdio.h&gt;\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"freertos/queue.h\"\n#include \"esp_log.h\"\n\nstatic const char *TAG = \"LAB2\";\nstatic QueueHandle_t q_numbers;\n\nstatic void producer_task(void *pvParameters)\n{\n    int value = 0;\n\n    while (1) {\n        value++;\n\n        // Send to queue; wait up to 50ms if full\n        if (xQueueSend(q_numbers, &amp;value, pdMS_TO_TICKS(50)) == pdPASS) {\n            ESP_LOGI(TAG, \"Produced %d\", value);\n        } else {\n            ESP_LOGW(TAG, \"Queue full, dropped %d\", value);\n        }\n\n        vTaskDelay(pdMS_TO_TICKS(200));\n    }\n}\n\nstatic void consumer_task(void *pvParameters)\n{\n    int rx = 0;\n\n    while (1) {\n        // Wait up to 1000ms for data\n        if (xQueueReceive(q_numbers, &amp;rx, pdMS_TO_TICKS(1000)) == pdPASS) {\n            ESP_LOGI(TAG, \"Consumed %d\", rx);\n        } else {\n            ESP_LOGW(TAG, \"No data in 1s\");\n        }\n    }\n}\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Starting Lab 2 (queue)\");\n\n    q_numbers = xQueueCreate(5, sizeof(int)); // length 5\n    if (q_numbers == NULL) {\n        ESP_LOGE(TAG, \"Queue create failed\");\n        return;\n    }\n\n    xTaskCreate(producer_task, \"producer_task\", 2048, NULL, 5, NULL);\n    xTaskCreate(consumer_task, \"consumer_task\", 2048, NULL, 5, NULL);\n}\n</code></pre>"},{"location":"Lab%2001_ES/#code-of-exercise-lab-02","title":"Code of exercise Lab 02","text":"<pre><code>#include &lt;stdio.h&gt;\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"freertos/queue.h\"\n#include \"esp_log.h\"\n\nstatic const char *TAG = \"LAB2\";\nstatic QueueHandle_t q_numbers;\n\nstatic void producer_task(void *pvParameters)\n{\n    int value = 0;\n\n    while (1) {\n        value++;\n\n        // Send to queue; wait up to 50ms if full\n        if (xQueueSend(q_numbers, &amp;value, pdMS_TO_TICKS(50)) == pdPASS) {\n            ESP_LOGI(TAG, \"Produced %d\", value);\n        } else {\n            ESP_LOGW(TAG, \"Queue full, dropped %d\", value);\n        }\n\n        // Producer m\u00e1s r\u00e1pido\n        vTaskDelay(pdMS_TO_TICKS(20));\n    }\n}\n\nstatic void consumer_task(void *pvParameters)\n{\n    int rx = 0;\n\n    while (1) {\n        // Wait up to 1000ms for data\n        if (xQueueReceive(q_numbers, &amp;rx, pdMS_TO_TICKS(1000)) == pdPASS) {\n            ESP_LOGI(TAG, \"Consumed %d\", rx);\n\n            // Consumer lento\n            vTaskDelay(pdMS_TO_TICKS(300));\n        } else {\n            ESP_LOGW(TAG, \"No data in 1s\");\n        }\n    }\n}\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Starting Lab 2 (queue)\");\n\n    // Queue m\u00e1s grande\n    q_numbers = xQueueCreate(20, sizeof(int));\n    if (q_numbers == NULL) {\n        ESP_LOGE(TAG, \"Queue create failed\");\n        return;\n    }\n\n    xTaskCreate(producer_task, \"producer_task\", 2048, NULL, 5, NULL);\n    xTaskCreate(consumer_task, \"consumer_task\", 2048, NULL, 5, NULL);\n}\n</code></pre>"},{"location":"Lab%2001_ES/#exercises_1","title":"Exercises","text":"<ul> <li>Make the producer faster: change producer delay 200ms \u2192 20ms.</li> </ul> <p>With this change the producer is generating each 20 ms but the cinsumer no, the consumer only is waiting to the producer.  * When do you see \u201cQueue full\u201d?</p> <p>That we can see when the producer is trying to give data faster than the consumer can processing. This because the consumer is lower than producer and the spaces will be loaded. </p> <ul> <li>Increase the queue length 5 \u2192 20.</li> <li>What changes?</li> </ul> <p>With this we can see that the consumer has more spaces for store data, after load those 20 spaces, the consumer will star to lost data.</p> <ul> <li>Make the consumer \u201cslow\u201d: after a successful receive, add:      vTaskDelay(pdMS_TO_TICKS(300));,  What pattern is happening now (buffering / backlog)?</li> </ul> <p>Whit this code we can see that the system in the first seconds the producer will loaded the 20 spaces of the quue, so the consumer is lower for that will be proccesing the data 1 while the producer has already sent 2, 3, 4, ... Therefore our queue will always be full because since the consumer takes 300ms to process a single piece of data, and in that time the producer tried to send 15 new pieces of data (300 / 20 = 15).</p>"},{"location":"Lab%2001_ES/#this-code-of-lab-03","title":"This code of LAb 03","text":"<p><pre><code>#include &lt;stdio.h&gt;\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"esp_log.h\"\n\nstatic const char *TAG = \"LAB3A\";\n\nstatic volatile int shared_counter = 0;\n\nstatic void increment_task(void *pvParameters)\n{\n    const char *name = (const char *)pvParameters;\n\n    while (1) {\n        // NOT safe: read-modify-write without protection\n        int local = shared_counter;\n        local++;\n        shared_counter = local;\n\n        if ((shared_counter % 1000) == 0) {\n            ESP_LOGI(TAG, \"%s sees counter=%d\", name, shared_counter);\n        }\n\n        vTaskDelay(pdMS_TO_TICKS(1));\n    }\n}\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Starting Lab 3A (race demo)\");\n\n    xTaskCreate(increment_task, \"incA\", 2048, \"TaskA\", 5, NULL);\n    xTaskCreate(increment_task, \"incB\", 2048, \"TaskB\", 5, NULL);\n}\n</code></pre> * Part A: Why can the counter be wrong? Task A copies the counter value to its local memory.</p> <p>The system is pausing Task A before it finishes and gives Task B its turn. That's why Task B reads the same 100, increments it to 101, and stores it. When Task A returns, it still thinks the value is 100, increments it to 101, and stores it over Task B's value. Two increments were made, but the counter only increased by 1. Information was \"lost\" along the way.</p> <pre><code>#include &lt;stdio.h&gt;\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"esp_log.h\"\n#define LED_GPIO GPIO_NUM_2   \n#define BUTTON5_GPIO  GPIO_NUM_3\nint Read_button5 = 0; // Aqu\u00ed guardamos la lectura\n\nvoid read_button_task5(void *pvParameters)\n{\n    gpio_set_direction(BUTTON5_GPIO, GPIO_MODE_INPUT);\n    gpio_set_pull_mode(BUTTON5_GPIO, GPIO_PULLUP_ONLY);\n  print(my name is isaac_rec.name)\n\n    while (1) {\n        Read_button5 = gpio_get_level(BUTTON5_GPIO);\n        vTaskDelay(pdMS_TO_TICKS(20)); // cada 20ms\n    }\n}\n    while (1) {\n        Read_button5 = gpio_get_level(BUTTON5_GPIO);\n        vTaskDelay(pdMS_TO_TICKS(20)); // cada 20ms\n    }\n}\n// TAG para los mensajes del log (ESP_LOGI)\nstatic const char *TAG = \"LAB3A\";\nstruct patient{\n    int counter=0;\n    char[10] name=\"\";\n};\n\n}\nstatic void HEARTBEAT(void *pvParameters)\n{\n    gpio_reset_pin(LED_GPIO);\n    gpio_set_direction(LED_GPIO, GPIO_MODE_OUTPUT);\n\n    while (1) {\n        gpio_set_level(LED_GPIO, 1);\n        vTaskDelay(pdMS_TO_TICKS(2000));\n        gpio_set_level(LED_GPIO, 0);\n        vTaskDelay(pdMS_TO_TICKS(2000));\n    }\n}\n\nstatic void Alive(void *pvParameters)\n{\n    int n = 0;\n    while (1) {\n        ESP_LOGI(TAG, \"Alive, n=%d\", n++);\n        vTaskDelay(pdMS_TO_TICKS(1000));\n    }\n}\n\nstatic QueueHandle_t q_numbers;\n\nstatic void producer_task(void *pvParameters)\n{\n    struct patient isaac_sends;\n    isaac_sends.name = \"isaac\"\n\n    while (1) {\n        isaac_sends.counter=isaac.counter+1;\n\n\n        // Send to queue; wait up to 50ms if full\n        if (xQueueSend(q_numbers, &amp;isaac, pdMS_TO_TICKS(50)) == pdPASS) {\n            ESP_LOGI(TAG, \"Produced %d\", value);\n        } else {\n            ESP_LOGW(TAG, \"Queue full, dropped %d\", value);\n        }\n\n        vTaskDelay(pdMS_TO_TICKS(200));\n    }\n}\n\nstatic void consumer_task(void *pvParameters)\n{\n    struct patient isaac_rec;\n\n\n    while (1) {\n        // Wait up to 1000ms for data\n        if (xQueueReceive(q_numbers, &amp;isaac_rec, pdMS_TO_TICKS(1000)) == pdPASS) {\n            ESP_LOGI(TAG, \"Consumed %d\", rx);\n            print(my name is isaac_rec.name and im counting to isaac_rec.counter)\n        } else {\n            ESP_LOGW(TAG, \"No data in 1s\");\n        }\n    }\n}\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Starting Lab 2 (queue)\");\n\n    q_numbers = xQueueCreate(7, sizeof(counter)); // length 5\n    if (q_numbers == NULL) {\n        ESP_LOGE(TAG, \"Queue create failed\");\n        return;//crash m rogram\n    }\n\nvoid app_main(void)\n{\n    ESP_LOGI(TAG, \"Starting Lab 3A (race demo)\");\n\n    // Crea varias tareas que compiten por incrementar shared_counter.\n    // 1 tarea \"TaskA\"\n    xTaskCreate(increment_task, \"incA\", 2048, \"TaskA\", 5, NULL);\n\n    // 4 tareas \"TaskB\" (todas compiten tambi\u00e9n por el mismo contador)\n    // OJO: todas tienen el mismo nombre de task (\"incB\") y el mismo par\u00e1metro \"TaskB\".\n    // Esto dificulta distinguirlas en depuraci\u00f3n.\n    xTaskCreate(HEARTBEAT, \"blink_task\", 2048, \"TaskA\", 1, NULL);\n    xTaskCreate(Alive, \"Alive\", 2048, \"TaskB\", 2, NULL);\n    xTaskCreate(producer_task, \"TaskC\", 2048, NULL, 3, NULL);\n    xTaskCreate(consumer_task, \"TaskD\", 2048, NULL, 4, NULL);\n    xTaskCreate(read_button_task5, \"incE\", 2048, \"Task5\", 5, NULL);\n    xTaskCreate( read_button_task6, \"incF\", 2048, \"Task6\", 6, NULL);\n\n}\n</code></pre>"},{"location":"Lab%2001_ES/#exercises_2","title":"Exercises","text":"<ul> <li>Remove the mutex again. Do you ever see weird behavior?</li> </ul> <p>Yes, the counter will grow slower than expected or show inconsistent values.</p> <ul> <li>Change priorities: TaskA priority 6, TaskB priority 4. What do you expect and why?</li> </ul> <p>La Tarea A interrumpir\u00e1 a la Tarea B casi siempre que termine su tiempo de espera.</p> <ul> <li>In one sentence: what does a mutex \u201cguarantee\u201d?</li> </ul> <p>A mutex guarantees that only one task can access a shared resource at any given time.</p>"},{"location":"Lab%2001_ES/#extra-mini-challenges","title":"Extra mini-challenges","text":"<ul> <li>Heartbeat + work task</li> <li>Add a third task that prints \u201calive\u201d every 2 seconds.</li> <li>Queue with struct</li> <li>Send a struct: {int id; int value;}</li> <li>Mutex around a shared peripheral</li> <li>Make two tasks write to the same log message format (simulate \u201cshared UART resource\u201d) and guard it with a mutex.</li> </ul>"},{"location":"Lab%2001_ES/#5-results","title":"5) Results","text":""},{"location":"Lab%2001_ES/#labs-codes-running","title":"Labs codes running","text":"<p>Enlace directo</p> <p>Enlace directo</p>"},{"location":"ROS2%20Topics/","title":"Work 3: Activity 01 - ROS2 Topics","text":""},{"location":"ROS2%20Topics/#1-activity-goals","title":"1) Activity Goals","text":"<p>Understand the Publisher/Subscriber communication pattern. 2Develop a Subscriber node to receive and process data from a topic. Create a ROS2 node that publishes messages to a specific topic. Utilize ROS2 CLI tools such as ros2 topic list, echo, and info for debugging. Configure the package.xml and setup.py (or CMakeLists.txt) files correctly.</p>"},{"location":"ROS2%20Topics/#2-materials","title":"2) Materials","text":"<p>No materials required </p>"},{"location":"ROS2%20Topics/#3-code","title":"3) Code","text":""},{"location":"ROS2%20Topics/#this-code-of-publisher","title":"This code of Publisher","text":"<p>import rclpy from rclpy.node import Node from example_interfaces.msg import String</p> <p>class NumberPublisher(Node):     def init(self):         super().init('number_publisher')         self.get_logger().info('Beep Boop R2D2 is publishing')         self.counter =0         self.publisher_ = self.create_publisher(String, 'number', 10)         self.create_timer(1.0, self.r2d2_number)     def r2d2_number(self):         msg = String()         msg.data = str(self.counter)         self.get_logger().info(f'R2D2 says number: {msg.data}')         self.publisher_.publish(msg)         self.counter += 1</p> <p>def main(args=None):     rclpy.init(args=args)     r2d2_node = NumberPublisher()     rclpy.spin(r2d2_node)     rclpy.shutdown() if name == \"main\":     main()</p>"},{"location":"ROS2%20Topics/#code-of-listener","title":"Code of listener","text":""},{"location":"ROS2%20Topics/#usrbinenv-python3","title":"!/usr/bin/env python3","text":"<p>import rclpy from rclpy.node import Node from example_interfaces.msg import Int64</p> <p>class NumberCounter(Node):</p> <pre><code>def _init_(self):\n    super()._init_('number_counter')\n    self.counter = 0\n    self.subscription = self.create_subscription(\n        Int64,\n        '/number',\n        self.listener_callback,\n        10\n    )\n    self.publisher_ = self.create_publisher(\n        Int64,\n        '/number_count',\n        10\n    )\n    self.get_logger().info('Number counter working...')\n\ndef listener_callback(self, msg):\n    self.counter += msg.data\n    out_msg = Int64()\n    out_msg.data = self.counter\n    self.publisher_.publish(out_msg)\n    self.get_logger().info(\n        f'Recibido: {msg.data} | Total: {self.counter}'\n    )\n</code></pre> <p>def main(args=None):     rclpy.init(args=args)     nodito = NumberCounter()     rclpy.spin(nodito)     rclpy.shutdown()</p> <p>if name == 'main':     main() with the two codes, we have our program:</p> <p></p>"},{"location":"Ros%20Basics%20Capstone/","title":"Work Ros Basics Capstone","text":""},{"location":"Ros%20Basics%20Capstone/#team","title":"Team","text":"<p>Valeria Barroso Huitr\u00f3n Carlos Sebastian Eugenio Reyes Pablo Eduardo L\u00f3pez Manzano</p>"},{"location":"Ros%20Basics%20Capstone/#1-activity-goals","title":"1) Activity Goals","text":"<ul> <li> <p>Create and integrate custom message interfaces like Turtle.msg and TurtleArray.msg. Develop a custom service interface, CatchTurtle.srv, with specific request and response structures</p> </li> <li> <p>Build a multi-node ROS 2 application to visualize behavior using the turtlesim package. Design the architecture first to outline the nodes, topics, and services.</p> </li> <li> <p>Implement a high-rate control loop in the turtle_controller using a simplified PI controller to drive the turtle to its target.</p> </li> <li> <p>Program a turtle_spawner to call the /spawn service for generating turtles at random coordinates. Provide a /catch_turtle service that calls the /kill service and removes caught turtles from an actively maintained list.</p> </li> </ul>"},{"location":"Ros%20Basics%20Capstone/#2-materials","title":"2) Materials","text":"<p>No materials required </p>"},{"location":"Ros%20Basics%20Capstone/#analysis","title":"Analysis","text":""},{"location":"Ros%20Basics%20Capstone/#code-1","title":"Code 1","text":"<ul> <li> <p>This Python script defines the TurtleSpawner node, which is responsible for generating new turtles at random intervals and managing the list of currently active turtles in the simulation.</p> </li> <li> <p>It creates two service clients to communicate with the main turtlesim node: spawn for create turtles and /kill for remove the turtles</p> </li> </ul> <p><pre><code>turtle_spawner.py:\n#!/usr/bin/env python3\n\nimport rclpy\nimport random\nfrom rclpy.node import Node\nfrom turtlesim.srv import Spawn, Kill\nfrom my_robot_interfaces.msg import Turtle, TurtleArray\nfrom my_robot_interfaces.srv import CatchTurtle\n\n\nclass TurtleSpawner(Node):\n\n    def __init__(self):\n        super().__init__('turtle_spawner')\n\n        # Clientes\n        self.spawn_client = self.create_client(Spawn, '/spawn')\n        self.kill_client = self.create_client(Kill, '/kill')\n\n        # Publisher\n        self.publisher_ = self.create_publisher(\n            TurtleArray,\n            '/alive_turtles',\n            10\n        )\n\n        # Servicio personalizado\n        self.service = self.create_service(\n            CatchTurtle,\n            '/catch_turtle',\n            self.catch_turtle_callback\n        )\n\n        self.alive_turtles = []\n\n        # Timer para spawnear cada 5 segundos\n        self.timer = self.create_timer(5.0, self.spawn_turtle)\n\n        self.get_logger().info(\"Turtle Spawner iniciado\")\n\n    def spawn_turtle(self):\n\n        if not self.spawn_client.wait_for_service(timeout_sec=1.0):\n            self.get_logger().warn(\"Servicio /spawn no disponible\")\n            return\n\n        # Generar coordenadas aleatorias\n        x = random.uniform(0.5, 10.5)\n        y = random.uniform(0.5, 10.5)\n        theta = random.uniform(0.0, 6.28)\n\n        request = Spawn.Request()\n        request.x = x\n        request.y = y\n        request.theta = theta\n\n        future = self.spawn_client.call_async(request)\n\n        # Guardar tambi\u00e9n las coordenadas reales\n        future.add_done_callback(\n            lambda future: self.spawn_done(future, x, y, theta)\n        )\n\n    def spawn_done(self, future, x, y, theta):\n\n        try:\n            response = future.result()\n        except Exception as e:\n            self.get_logger().error(f\"Error al spawnear: {e}\")\n            return\n\n        turtle = Turtle()\n        turtle.name = response.name\n        turtle.x = x\n        turtle.y = y\n        turtle.theta = theta\n\n        self.alive_turtles.append(turtle)\n\n        self.publish_alive_turtles()\n\n        self.get_logger().info(f\"Tortuga creada: {turtle.name} en ({x:.2f}, {y:.2f})\")\n\n    def publish_alive_turtles(self):\n\n        msg = TurtleArray()\n        msg.turtles = self.alive_turtles\n        self.publisher_.publish(msg)\n\n    def catch_turtle_callback(self, request, response):\n\n        if not self.kill_client.wait_for_service(timeout_sec=1.0):\n            response.success = False\n            return response\n\n        kill_request = Kill.Request()\n        kill_request.name = request.name\n\n        self.kill_client.call_async(kill_request)\n\n        # Eliminar de la lista\n        self.alive_turtles = [\n            t for t in self.alive_turtles\n            if t.name != request.name\n        ]\n\n        self.publish_alive_turtles()\n\n        self.get_logger().info(f\"Tortuga eliminada: {request.name}\")\n\n        response.success = True\n        return response\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = TurtleSpawner()\n    rclpy.spin(node)\n    rclpy.shutdown()\n</code></pre> * Every 5 seconds, it generates random x and y coordinates between 0.5 and 10.5, and a random angle theta. </p> <ul> <li> <p>The spawner then calls the /kill service to visually remove it from the turtlesim window.</p> </li> <li> <p>It filters the internal alive_turtles list to remove the caught turtle.</p> </li> <li> <p>Finally, it republishes the updated /alive_turtles list so the controller knows to pick a new target.</p> </li> </ul>"},{"location":"Ros%20Basics%20Capstone/#code-2","title":"Code 2","text":"<ul> <li>The turtle_controller.py node acts as the hunter. Its main goal is to calculate the trajectory toward the nearest target and move turtle1 accordingly.</li> <li>The code calculates the distance to the target using the Pythagorean theorem: distance = sqrt(dx^2 + dy^2). It also calculates the angle using</li> <li>It then sends an asynchronous request to the /catch_turtle service so the spawner can remove it from the map.  <pre><code>turtle_controller.py:\n#!/usr/bin/env python3\n\nimport rclpy\nimport math\nfrom rclpy.node import Node\nfrom geometry_msgs.msg import Twist\nfrom turtlesim.msg import Pose\nfrom my_robot_interfaces.msg import TurtleArray\nfrom my_robot_interfaces.srv import CatchTurtle\n\n\nclass TurtleController(Node):\n\n    def __init__(self):\n        super().__init__('turtle_controller')\n\n        self.pose = None\n        self.target = None\n\n        self.create_subscription(\n            Pose,\n            '/turtle1/pose',\n            self.pose_callback,\n            10\n        )\n\n        self.create_subscription(\n            TurtleArray,\n            '/alive_turtles',\n            self.alive_callback,\n            10\n        )\n\n        self.publisher_ = self.create_publisher(\n            Twist,\n            '/turtle1/cmd_vel',\n            10\n        )\n\n        self.client = self.create_client(\n            CatchTurtle,\n            '/catch_turtle'\n        )\n\n        self.timer = self.create_timer(0.1, self.control_loop)\n\n    def pose_callback(self, msg):\n        self.pose = msg\n\n    def alive_callback(self, msg):\n        if len(msg.turtles) &gt; 0:\n            self.target = msg.turtles[0]\n        else:\n            self.target = None\n\n    def control_loop(self):\n\n        if self.pose is None or self.target is None:\n            return\n\n        dx = self.target.x - self.pose.x\n        dy = self.target.y - self.pose.y\n\n        distance = math.sqrt(dx*dx + dy*dy)\n        angle = math.atan2(dy, dx)\n\n        cmd = Twist()\n\n        cmd.linear.x = 2.0 * distance\n        cmd.angular.z = 6.0 * (angle - self.pose.theta)\n\n        self.publisher_.publish(cmd)\n\n        if distance &lt; 0.3:\n            request = CatchTurtle.Request()\n            request.name = self.target.name\n            self.client.call_async(request)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = TurtleController()\n    rclpy.spin(node)\n    rclpy.shutdown()\n</code></pre></li> </ul>"},{"location":"Ros%20Basics%20Capstone/#images","title":"Images","text":"<ul> <li>termianl 1: ros2 run turtlesim turtlesim_node</li> </ul> <ul> <li>terminal 2: ros2 run turtlesim_catch_them_all turtle_spawner</li> </ul> <ul> <li>terminal 3: ros2 run turtlesim_catch_them_all turtle_controller</li> </ul> <ul> <li>TurtleSim program runs</li> </ul>"},{"location":"Ros%20Basics%20Capstone/#resutls","title":"RESUTLS","text":"<ul> <li>link del video </li> </ul> <p>https://youtu.be/yMs9FbAgi54</p>"},{"location":"Ros2%20Service%20Server/","title":"Ros2 Service Server","text":""},{"location":"Ros2%20Service%20Server/#1-activity-goals","title":"1) Activity Goals","text":"<ul> <li> <p>Add a functionality to reset the counter to zero.</p> </li> <li> <p>Create a Service Server: Create a service server inside the existing number_counter node.</p> </li> <li> <p>Name the service /reset_counter.</p> </li> <li> <p>Service Type: Use the pablo_interfaces/srv/SetBool type.</p> </li> <li> <p>When the server is called, check the boolean data from the request; if it is true, set the counter variable to 0.</p> </li> <li> <p>Call the service directly from the command line.</p> </li> <li> <p>Create a custom node to call the /reset_counter service for extra practice.</p> </li> </ul>"},{"location":"Ros2%20Service%20Server/#2-materials","title":"2) Materials","text":"<p>No materials required </p>"},{"location":"Ros2%20Service%20Server/#3-code","title":"3) Code","text":""},{"location":"Ros2%20Service%20Server/#this-code-of-lab-01","title":"This code of LAb 01","text":"<p>We star with the configuration of the interface with the next codes. </p> <pre><code>pablo_interfaces/srv/SetBool\n</code></pre>"},{"location":"Ros2%20Service%20Server/#imports","title":"Imports","text":"<p>For this step we have the next imports: <pre><code>import rclpy\nfrom rclpy.node import Node\nfrom pablo_interfaces.msg import Int64 \nfrom pablo_interfaces.srv import SetBool\n</code></pre></p>"},{"location":"Ros2%20Service%20Server/#package","title":"Package","text":"<p>In this part we have to add the package in our package. xml: <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;?xml-model href=\"http://download.ros.org/schema/package_format3.xsd\" schematypens=\"http://www.w3.org/2001/XMLSchema\"?&gt;\n&lt;package format=\"3\"&gt;\n  &lt;name&gt;my_robot&lt;/name&gt;\n  &lt;version&gt;0.0.0&lt;/version&gt;\n  &lt;description&gt;TODO: Package description&lt;/description&gt;\n  &lt;maintainer email=\"pablo_pablo_@todo.todo\"&gt;pablo_pablo_&lt;/maintainer&gt;\n  &lt;license&gt;TODO: License declaration&lt;/license&gt;\n  &lt;depend&gt;example_interfaces&lt;/depend&gt;\n  &lt;depend&gt;rclp&lt;/depend&gt;\n  &lt;depedn&gt;my_robot&lt;/depend&gt;\n  &lt;depend&gt;pablo_interfaces&lt;/depend&gt;\n\n  &lt;test_depend&gt;ament_copyright&lt;/test_depend&gt;\n  &lt;test_depend&gt;ament_flake8&lt;/test_depend&gt;\n  &lt;test_depend&gt;ament_pep257&lt;/test_depend&gt;\n  &lt;test_depend&gt;python3-pytest&lt;/test_depend&gt;\n\n  &lt;export&gt;\n    &lt;build_type&gt;ament_python&lt;/build_type&gt;\n  &lt;/export&gt;\n&lt;/package&gt;\n</code></pre></p>"},{"location":"Ros2%20Service%20Server/#define-trhe-node","title":"Define trhe node","text":"<p>In this step we will create the node class and its named:</p> <pre><code>class pabloCounter(Node):\n    def __init__(self):\n        #Initialize node with the name \"pablo_counter\"\n        super().__init__(\"pablo_counter\")\n</code></pre>"},{"location":"Ros2%20Service%20Server/#callback","title":"Callback","text":"<p>Now we create the callback of the function: The callback evaluates the boolean request.data: With the next code it will do:  If True: It resets the counter to 0, logs the event, and returns a success response (True) with a confirmation message.</p> <p>If False: It takes no action and returns a response indicating the reset was not performed (False).</p> <pre><code># Service callback for /reset_counter\n    def read_bool_callback(self, request, response):\n        # Boolean condition if request.data is true, reset the counter to 0.\n        if request.data:\n            # reset counter\n            self.counter = 0;\n            #Indicates succesful reset\n            response.success = True\n            response.message = \"Counter reset to 0\"\n            # Log reset event\n            self.get_logger().info(\"Counter restarted to 0\")\n        else:\n            # No reset performed\n            response.success = False\n            response.message = \"Counter not reset\"\n        return response\n</code></pre>"},{"location":"Ros2%20Service%20Server/#code","title":"Code","text":"<pre><code>#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom pablo_interfaces.msg import Int64 \nfrom pablo_interfaces.srv import SetBool\n\nclass numCounter(Node):\n    def __init__(self):\n        #Initialize node with the name \"number_counter\"\n        super().__init__(\"pablo_counter\")\n        self.server_ = self.create_service(SetBool, \"/reset_counter\",self.read_bool_callback) # Creats a service server type SetBool. It needs: (Service type, service name, callback function)\n        self.counter = 0 # Start the counter on 0\n        self.subscriber = self.create_subscription(Int64,\"/number\", self.callback_receive_info,10) # (Type, topic name, callback function, queue size)\n        self.publisher = self.create_publisher(Int64,\"/number_count\",10) # (Type, topic name, queue size)\n\n    #Subscriber callback. Triggers every time a message is received on /number. Adds the received value to the internal counter and publishes the updated total.\n    def callback_receive_info(self, msg: Int64): #its receiving a msg of type String\n        # Acumulate recived value\n        self.counter += msg.data\n        # Create message to publish\n        out_msg = Int64()\n        out_msg.data = self.counter\n        #Log received value and current counter state\n        self.get_logger().info(f\"Recived: {msg.data} | Counter: {self.counter}\") #print the data field\n        #Published updated counter value\n        self.publisher.publish(out_msg)\n\n    # Service callback for /reset_counter. If request.data is true, reset the counter to 0.\n    def read_bool_callback(self, request, response):\n        # Boolean condition\n        if request.data:\n            # reset counter\n            self.counter = 0;\n            #Indicates succesful reset\n            response.success = True\n            response.message = \"Counter reset to 0\"\n            # Log reset event\n            self.get_logger().info(\"Counter restarted to 0\")\n        else:\n            # No reset performed\n            response.success = False\n            response.message = \"Counter not reset\"\n        return response\n\ndef main(args=None):\n    rclpy.init(args=args) # Initialize rclpy\n    counter_node = numCounter() # Create node instance\n    rclpy.spin(counter_node) # Keep the node alive and processing callbacks\n    rclpy.shutdown()      # Shutdown rclpy\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"Ros2%20Service%20Server/#add-to-setuppy","title":"Add to setup.py","text":"<pre><code>from setuptools import find_packages, setup\npackage_name = 'my_robot'\n\nsetup(\n    name=package_name,\n    version='0.0.0',\n    packages=find_packages(exclude=['test']),\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='pablo_pablo_',\n    maintainer_email='pablo_pablo_@todo.todo',\n    description='TODO: Package description',\n    license='TODO: License declaration',\n    extras_require={\n        'test': [\n            'pytest',\n        ],\n    },\n    entry_points={\n        'console_scripts': [\n            'C3P0 = my_robot.my_first_node:main',\n            'number_publisher = my_robot.number_publisher:main',\n            'number_counter = my_robot.number_counter:main',\n            'c3p0 = my_robot.c3p0:main',\n            'publisher = my_robot.publisher:main',\n            'listener=my_robot.listener:main',  \n            'todayclas = my_robot.todayclas:main',\n            'status_pub = my_robot.status_pub:main',\n            'num_publisher = my_robot.number_publisher:main',\n            'num_counter = my_robot.number_counter:main', \n\n        ]\n    }\n\n)\n</code></pre>"},{"location":"Ros2%20Service%20Server/#run-code","title":"Run code","text":"<p>First we have the code of counter and publisher:</p> <p>code for run in ubuntu terminal the publisher :  <pre><code>ros2 run &lt;your_package_name&gt; &lt;your_publisher_node_name&gt;\n</code></pre> And the code for run counter <pre><code>ros2 run &lt;your_package_name&gt; &lt;your_publisher_node_name&gt;\n</code></pre> </p> <p>Then we try the reset with the function created before <pre><code>ros2 service call /&lt;name of your service server&gt; pablo_interfaces/srv/SetBool \"{data: false}\"\n</code></pre> </p>"},{"location":"Transform%20Nomenclature/","title":"Work 2: Transform Nomenclature","text":""},{"location":"Transform%20Nomenclature/#1-activity-goals","title":"1) Activity Goals","text":"<ol> <li>Understand the mathematical representation of point rotations in space.</li> <li>Apply the left-multiplication rule for rotations about fixed reference axes. Perform visual analysis of geometric diagrams to extract spatial data.</li> <li>Integrate rotation and translation vectors into a single coordinate frame.</li> </ol>"},{"location":"Transform%20Nomenclature/#2-materials","title":"2) Materials","text":"<p>No materials required </p>"},{"location":"Transform%20Nomenclature/#3-analysis","title":"3) Analysis","text":""},{"location":"Transform%20Nomenclature/#exercise-1","title":"Exercise 1","text":"<p>First Rotation in YA with angle= 45 degrees</p> <p> Second Rotation in Xa angle = 60 degrees </p>"},{"location":"Transform%20Nomenclature/#exercise-2","title":"Exercise 2","text":"<p>the frame B is rotating relative to A in X with angle = 30 degrees, with ApB origin = [5 10 0] The rotation in X : we have an angle = 30 degrees  We have to make the final matrix:  </p>"},{"location":"Transform%20Nomenclature/#exercise-3","title":"Exercise 3","text":"<p>For A-B T we have our origin in APB origin [ 3 0 0] so for our first traslation we have:  For our second matrix, we have to deternimate the rotation of C relative to A, we have the origin of C in [3 0 2], so: </p>"},{"location":"comandos/","title":"Encabezados","text":"<pre><code># T\u00edtulo H1\n## T\u00edtulo H2\n### T\u00edtulo H3\n</code></pre>"},{"location":"comandos/#titulo-h1","title":"T\u00edtulo H1","text":""},{"location":"comandos/#titulo-h2","title":"T\u00edtulo H2","text":""},{"location":"comandos/#titulo-h3","title":"T\u00edtulo H3","text":""},{"location":"comandos/#enfasis-y-codigo-en-linea","title":"\u00c9nfasis y c\u00f3digo en l\u00ednea","text":"<pre><code>**negritas**, *cursivas*, ~~tachado~~, `c\u00f3digo en l\u00ednea`\n</code></pre> <p>negritas, cursivas, ~~tachado~~, <code>c\u00f3digo en l\u00ednea</code></p>"},{"location":"comandos/#citas-blockquote","title":"Citas (blockquote)","text":"<pre><code>&gt; Esta es una cita destacada.\n&gt; Puede tener m\u00faltiples l\u00edneas.\n</code></pre> <p>Esta es una cita destacada. Puede tener m\u00faltiples l\u00edneas.</p>"},{"location":"comandos/#enlaces","title":"Enlaces","text":"<pre><code>[Enlace directo](https://www.iberopuebla.mx/)]\n\n[Texto del enlace de referencia][doc-ref]\n\n[doc-ref]: https://www.iberopuebla.mx//docs \"T\u00edtulo opcional\"\n</code></pre> <p>Enlace directo</p> <p>Texto del enlace de referencia</p>"},{"location":"comandos/#listas-vinetas-numeradas-y-de-tareas","title":"Listas: vi\u00f1etas, numeradas y de tareas","text":"<pre><code>- Item A\n    * Subitem A.1\n    * Subitem A.2\n- Item B\n    - Subitem B.1\n    - Subitem B.2\n\n1.  Paso 1\n    1.  Paso 1.1\n    2.  Paso 1.2\n        1.  Paso 1.2.1\n        2.  Paso 1.2.2\n\n- [x] Hecho\n- [ ] Pendiente\n</code></pre> <ul> <li>Item A<ul> <li>Subitem A.1</li> <li>Subitem A.2</li> </ul> </li> <li>Item B<ul> <li>Subitem B.1</li> <li>Subitem B.2</li> </ul> </li> </ul> <ol> <li> <p>Paso 1</p> <ol> <li>Paso 1.1</li> <li>Paso 1.2<ol> <li>Paso 1.2.1</li> <li>Paso 1.2.2</li> </ol> </li> </ol> </li> <li> <p> Hecho</p> </li> <li> Pendiente</li> </ol>"},{"location":"comandos/#tablas","title":"Tablas","text":"<pre><code>| Componente | Cant. | Nota        |\n|-----------:|:-----:|-------------|\n| Sensor X   | 2     | I2C         |\n| MCU Y      | 1     | WiFi/BLE    |\n</code></pre> Componente Cant. Nota Sensor X 2 I2C MCU Y 1 WiFi/BLE"},{"location":"comandos/#imagenes","title":"Im\u00e1genes","text":"<pre><code>![Diagrama del sistema](recursos/imgs/ibero.jpeg)\n\n&lt;!-- Control de tama\u00f1o usando HTML (cuando se requiera) --&gt;\n&lt;img src=\"../recursos/imgs/ibero.jpeg\" alt=\"Diagrama del sistema\" width=\"420\"&gt;\n</code></pre>"},{"location":"comandos/#pdfs-enlace-y-embebido","title":"PDFs (enlace y embebido)","text":"<pre><code>[Descargar especificaci\u00f3n (PDF)](recursos/archivos/Calendario.pdf)\n\n&lt;!-- Embed (requiere navegador compatible) --&gt;\n&lt;object data=\"recursos/archivos/Calendario.pdf\" type=\"application/pdf\" width=\"100%\" height=\"600\"&gt;\n  &lt;p&gt;No se pudo mostrar el PDF. &lt;a href=\"../recursos/archivos/Calendario.pdf\"&gt;Descargar&lt;/a&gt;&lt;/p&gt;\n&lt;/object&gt;\n</code></pre> <p>Descargar especificaci\u00f3n (PDF)</p>"},{"location":"comandos/#admonitions-material","title":"Admonitions (Material)","text":"<pre><code>!!! note \"Nota\"\n    Esto es una nota informativa.\n\n!!! tip \"Sugerencia\"\n    Un consejo breve para el usuario.\n\n!!! warning \"Advertencia\"\n    Precauciones o riesgos a considerar.\n\n??? info \"M\u00e1s informaci\u00f3n (colapsable)\"\n    Contenido adicional que se puede expandir.\n</code></pre> <p>Nota</p> <p>Esto es una nota informativa.</p> <p>Sugerencia</p> <p>Un consejo breve para el usuario.</p> <p>Advertencia</p> <p>Precauciones o riesgos a considerar.</p> M\u00e1s informaci\u00f3n (colapsable) <p>Contenido adicional que se puede expandir.</p>"},{"location":"comandos/#codigo-con-resaltado","title":"C\u00f3digo con resaltado","text":"<p><pre><code>```python\ndef medir(canal: int) -&gt; dict:\n    # Simulaci\u00f3n de lectura\n    return {\"canal\": canal, \"valor\": 523, \"unidad\": \"mV\"}\n\nprint(medir(1))\n</code></pre> <pre><code>```python\ndef medir(canal: int) -&gt; dict:\n    # Simulaci\u00f3n de lectura\n    return {\"canal\": canal, \"valor\": 523, \"unidad\": \"mV\"}\n\nprint(medir(1))\n</code></pre></p>"},{"location":"comandos/#separador-horizontal","title":"Separador horizontal","text":"<pre><code>---\n</code></pre>"},{"location":"comandos/#listas-anidadas-con-codigo-y-notas","title":"Listas anidadas con c\u00f3digo y notas","text":"<pre><code>- **M\u00f3dulo A**\n  - Funci\u00f3n: `procesar()`\n  - Entrada:\n    - `signal` (float)\n    - `freq` (Hz)\n  - Salida:\n    - JSON con `valor`, `unidad`\n  - !!! note\n        Documenta rangos v\u00e1lidos y casos borde.\n</code></pre> <ul> <li>M\u00f3dulo A</li> <li>Funci\u00f3n: <code>procesar()</code></li> <li>Entrada:<ul> <li><code>signal</code> (float)</li> <li><code>freq</code> (Hz)</li> </ul> </li> <li>Salida:<ul> <li>JSON con <code>valor</code>, <code>unidad</code></li> </ul> </li> <li> <p>Note</p> <pre><code>Documenta rangos v\u00e1lidos y casos borde.\n</code></pre> </li> </ul>"},{"location":"comandos/#bloques-de-cita-con-codigo-pseudo-logs","title":"Bloques de cita con c\u00f3digo (pseudo-logs)","text":"<pre><code>&gt; **Log:**\n&gt; ```\n&gt; [12:00:00] Init OK\n&gt; [12:00:01] Conectando a I2C...\n&gt; [12:00:02] Lectura: 523 mV\n&gt; ```\n</code></pre> <p>Log: <pre><code>[12:00:00] Init OK\n[12:00:01] Conectando a I2C...\n[12:00:02] Lectura: 523 mV\n</code></pre></p>"},{"location":"ejemplo/","title":"\ud83d\udcda Ejemplo de Documentaci\u00f3n del Proyecto","text":"<p>Plantilla gen\u00e9rica para documentar proyectos acad\u00e9micos o de ingenier\u00eda. Copia y adapta las secciones seg\u00fan tu necesidad.</p>"},{"location":"ejemplo/#1-resumen","title":"1) Resumen","text":"<ul> <li>Nombre del proyecto: Mi Proyecto </li> <li>Equipo / Autor(es): Nombre(s) </li> <li>Curso / Asignatura: Nombre del curso </li> <li>Fecha: DD/MM/AAAA </li> <li>Descripci\u00f3n breve: Una o dos l\u00edneas que expliquen qu\u00e9 hace y por qu\u00e9.</li> </ul> <p>Consejo</p> <p>Mant\u00e9n este resumen corto (m\u00e1x. 5 l\u00edneas). Lo dem\u00e1s va en secciones espec\u00edficas.</p>"},{"location":"ejemplo/#2-objetivos","title":"2) Objetivos","text":"<ul> <li>General: Qu\u00e9 se pretende lograr en t\u00e9rminos amplios.</li> <li>Espec\u00edficos:</li> <li>OE1\u2026</li> <li>OE2\u2026</li> <li>OE3\u2026</li> </ul>"},{"location":"ejemplo/#3-alcance-y-exclusiones","title":"3) Alcance y Exclusiones","text":"<ul> <li>Incluye: Qu\u00e9 funcionalidades/entregables s\u00ed est\u00e1n en el proyecto.</li> <li>No incluye: Qu\u00e9 queda fuera para evitar malentendidos.</li> </ul>"},{"location":"ejemplo/#4-requisitos","title":"4) Requisitos","text":"<p>Software - SO compatible (Windows/Linux/macOS) - Python 3.x / Node 18+ / Arduino IDE / etc. - Dependencias (p. ej., pip/requirements, npm packages)</p> <p>Hardware (si aplica) - MCU / Sensores / Actuadores / Fuente de poder - Herramientas (mult\u00edmetro, caut\u00edn, etc.)</p> <p>Conocimientos previos - Programaci\u00f3n b\u00e1sica en X - Electr\u00f3nica b\u00e1sica - Git/GitHub</p>"},{"location":"ejemplo/#5-instalacion","title":"5) Instalaci\u00f3n","text":"<pre><code># 1) Clonar\ngit clone https://github.com/&lt;usuario&gt;/&lt;repo&gt;.git\ncd &lt;repo&gt;\n\n# 2) (Opcional) Crear entorno virtual\npython -m venv .venv\n# macOS/Linux\nsource .venv/bin/activate\n# Windows (PowerShell)\n.venv\\Scripts\\Activate.ps1\n\n# 3) Instalar dependencias (ejemplos)\npip install -r requirements.txt\n# o, si es Node:\nnpm install\n</code></pre>"},{"location":"gitcmds/","title":"\ud83d\ude80 Comandos b\u00e1sicos de Git (primeros pasos)","text":"<p>En este curso solo usaremos los comandos esenciales de Git para trabajar con repositorios.</p>"},{"location":"gitcmds/#1-clonar-un-repositorio","title":"1. Clonar un repositorio","text":"<p>Copia un proyecto de GitHub a tu computadora.</p> <pre><code>git clone https://github.com/usuario/repositorio.git\n</code></pre>"},{"location":"gitcmds/#2-verificar-cambios","title":"2. Verificar cambios","text":"<p>Muestra qu\u00e9 archivos has modificado o agregado.</p> <pre><code>git status\n</code></pre>"},{"location":"gitcmds/#3-preparar-cambios","title":"3. Preparar cambios","text":"<p>Agrega archivos para guardarlos en el pr\u00f3ximo commit.</p> <pre><code>git add archivo.txt\ngit add .   # agrega todos los archivos modificados\n</code></pre>"},{"location":"gitcmds/#4-guardar-cambios-commit","title":"4. Guardar cambios (commit)","text":"<p>Guarda tus cambios con un mensaje descriptivo.</p> <pre><code>git commit -m \"Descripci\u00f3n breve de los cambios\"\n</code></pre>"},{"location":"gitcmds/#5-subir-cambios-al-repositorio-push","title":"5. Subir cambios al repositorio (push)","text":"<p>Env\u00eda tus commits locales al repositorio en GitHub.</p> <pre><code>git push origin main\n</code></pre>"},{"location":"gitcmds/#6-traer-cambios-del-remoto-pull","title":"6. Traer cambios del remoto (pull)","text":"<p>Actualiza tu proyecto con los \u00faltimos cambios de GitHub.</p> <pre><code>git pull origin main\n</code></pre>"},{"location":"gitcmds/#flujo-tipico-de-trabajo","title":"Flujo t\u00edpico de trabajo","text":"<ol> <li> <p>Traer cambios del remoto <pre><code>git pull origin main\n</code></pre></p> </li> <li> <p>Editar tus archivos de proyecto.</p> </li> <li> <p>Preparar los cambios <pre><code>git add .\n</code></pre></p> </li> <li> <p>Guardar los cambios <pre><code>git commit -m \"Mensaje descriptivo\"\n</code></pre></p> </li> <li> <p>Enviar los cambios al remoto <pre><code>git push origin main\n</code></pre></p> </li> </ol> <p>Consejo</p> <p>Piensa en este ciclo como un loop infinito: cada vez que quieras contribuir \u2192 primero <code>pull</code>, despu\u00e9s <code>add</code> + <code>commit</code>, y finalmente <code>push</code>.</p>"}]}